const P=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const a=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const S=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const z=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl;const A=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable,e.View,e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox;const y=e.FormDivider;e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio;const o=e.FormRow,d=e.FormSection,E=e.FormSelect;e.FormSubLabel;const j=e.FormSwitch;e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;function x(n){window.enmity.plugins.registerPlugin(n)}function m(n){return window.enmity.assets.getIDByName(n)}const r={byProps:(...n)=>window.enmity.modules.filters.byProps(...n),byName:(n,i)=>window.enmity.modules.filters.byName(n,i),byTypeName:(n,i)=>window.enmity.modules.filters.byTypeName(n,i),byDisplayName:(n,i)=>window.enmity.modules.filters.byDisplayName(n,i)};function T(...n){return window.enmity.modules.bulk(...n)}window.enmity.modules.common;function M(n){return window.enmity.patcher.create(n)}var g="Dislate",D="1.3.2",N="Translates text into a desired language.",F="development",I=[{name:"acquite",id:"581573474296791211"}],R="#ff1f84",$={name:g,version:D,description:N,release:F,authors:I,color:R},V={afar:"aa",abkhazian:"ab",afrikaans:"af",akan:"ak",albanian:"sq",amharic:"am",arabic:"ar",aragonese:"an",armenian:"hy",assamese:"as",avaric:"av",avestan:"ae",aymara:"ay",azerbaijani:"az",bashkir:"ba",bambara:"bm",basque:"eu",belarusian:"be",bengali:"bn","bihari languages":"bh",bislama:"bi",tibetan:"bo",bosnian:"bs",breton:"br",bulgarian:"bg",burmese:"my",catalan:"ca",valencian:"ca",czech:"cs",chamorro:"ch",chechen:"ce",chinese:"zh","church slavic":"cu","old slavonic":"cu","church slavonic":"cu","old bulgarian":"cu","old church slavonic":"cu",chuvash:"cv",cornish:"kw",corsican:"co",cree:"cr",welsh:"cy",danish:"da",german:"de",divehi:"dv",dhivehi:"dv",maldivian:"dv",dutch:"nl",flemish:"nl",dzongkha:"dz",greek:"el",english:"en",esperanto:"eo",estonian:"et",ewe:"ee",faroese:"fo",persian:"fa",fijian:"fj",finnish:"fi",french:"fr","western frisian":"fy",fulah:"ff",georgian:"ka",gaelic:"gd","scottish gaelic":"gd",irish:"ga",galician:"gl",manx:"gv",guarani:"gn",gujarati:"gu",haitian:"ht","haitian creole":"ht",hausa:"ha",hebrew:"he",herero:"hz",hindi:"hi","hiri motu":"ho",croatian:"hr",hungarian:"hu",igbo:"ig",icelandic:"is",ido:"io","sichuan yi":"ii",nuosu:"ii",inuktitut:"iu",interlingue:"ie",occidental:"ie",interlingua:"ia",indonesian:"id",inupiaq:"ik",italian:"it",javanese:"jv",japanese:"ja",kalaallisut:"kl",greenlandic:"kl",kannada:"kn",kashmiri:"ks",kanuri:"kr",kazakh:"kk","central khmer":"km",kikuyu:"ki",gikuyu:"ki",kinyarwanda:"rw",kirghiz:"ky",kyrgyz:"ky",komi:"kv",kongo:"kg",korean:"ko",kuanyama:"kj",kwanyama:"kj",kurdish:"ku",lao:"lo",latin:"la",latvian:"lv",limburgan:"li",limburger:"li",limburgish:"li",lingala:"ln",lithuanian:"lt",luxembourgish:"lb",letzeburgesch:"lb","luba-katanga":"lu",ganda:"lg",macedonian:"mk",marshallese:"mh",malayalam:"ml",maori:"mi",marathi:"mr",malay:"ms",malagasy:"mg",maltese:"mt",mongolian:"mn",nauru:"na",navajo:"nv",navaho:"nv","ndebele, south":"nr","south ndebele":"nr","ndebele, north":"nd","north ndebele":"nd",ndonga:"ng",nepali:"ne","norwegian nynorsk":"nn","nynorsk, norwegian":"nn","norwegian bokm\xE5l":"nb","bokm\xE5l, norwegian":"nb",norwegian:"no",chichewa:"ny",chewa:"ny",nyanja:"ny",occitan:"oc",ojibwa:"oj",oriya:"or",oromo:"om",ossetian:"os",ossetic:"os",panjabi:"pa",punjabi:"pa",pali:"pi",polish:"pl",portuguese:"pt",pushto:"ps",pashto:"ps",quechua:"qu",romansh:"rm",romanian:"ro",moldavian:"ro",moldovan:"ro",rundi:"rn",russian:"ru",sango:"sg",sanskrit:"sa",sinhala:"si",sinhalese:"si",slovak:"sk",slovenian:"sl","northern sami":"se",samoan:"sm",shona:"sn",sindhi:"sd",somali:"so","sotho, southern":"st",spanish:"es",castilian:"es",sardinian:"sc",serbian:"sr",swati:"ss",sundanese:"su",swahili:"sw",swedish:"sv",tahitian:"ty",tamil:"ta",tatar:"tt",telugu:"te",tajik:"tg",tagalog:"tl",thai:"th",tigrinya:"ti",tonga:"to",tswana:"tn",tsonga:"ts",turkmen:"tk",turkish:"tr",twi:"tw",uighur:"ug",uyghur:"ug",ukrainian:"uk",urdu:"ur",uzbek:"uz",venda:"ve",vietnamese:"vi",volap\u00FCk:"vo",walloon:"wa",wolof:"wo",xhosa:"xh",yiddish:"yi",yoruba:"yo",zhuang:"za",chuang:"za",zulu:"zu"};const[q,B]=T(r.byProps("transitionToGuild"),r.byProps("setString"));var G=({settings:n})=>{const i=m("ic_selection_checked_24px"),t=z.createThemedStyleSheet({icon:{color:P.ThemeColorMap.INTERACTIVE_NORMAL}});var c=["deepl","libre","yandex"],u=Object.keys(V),h=a.createElement(d,{title:"Engine: "+(n==null?void 0:n.get("DislateLangEngine",c[0]))},a.createElement(E,{options:c,onChange:s=>{n==null||n.set("DislateTo",null),n==null||n.set("DislateEngine",s)},value:n==null?void 0:n.get("DislateLangEngine",c[0])})),p=a.createElement(d,{title:"Translate To: "+(n==null?void 0:n.get("DislateLangTo",u[0]))},a.createElement(E,{options:u,onChange:s=>n==null?void 0:n.set("DislateLangTo",s),value:n==null?void 0:n.get("DislateLangTo",u[0])}));return a.createElement(a.Fragment,null,a.createElement(A,null,h,a.createElement(y,null),p,a.createElement(y,null),a.createElement(d,{title:"Disable Entire Plugin"},a.createElement(o,{label:"Disable Plugin",leading:a.createElement(o.Icon,{style:t.icon,source:m("ic_rulebook_16px")}),trailing:a.createElement(j,{value:n.getBoolean("masterDisable",!1),onValueChange:()=>{n.toggle("masterDisable",!1),S.open({content:`Successfully ${n.getBoolean("masterDisable",!1)?"disabled":"enabled"} ${g}.`,source:i})}})})),a.createElement(y,null),a.createElement(d,{title:"Source Code"},a.createElement(o,{label:"Download",subLabel:`Copy the link of ${g} to Clipboard`,leading:a.createElement(o.Icon,{style:t.icon,source:m("toast_copy_link")}),trailing:o.Arrow,onPress:()=>{B.setString("https://raw.githubusercontent.com/acquitelol/dislate/main/dist/Dislate.js"),S.open({content:"Copied to clipboard",source:m("pending-alert")})}}),a.createElement(o,{label:"Source",subLabel:`Open the Repo of ${g} Externally`,leading:a.createElement(o.Icon,{style:t.icon,source:m("ic_leave_stage")}),trailing:o.Arrow,onPress:()=>{q.openURL("https://github.com/acquitelol/dislate")}})),a.createElement(o,{label:`Plugin Version: ${D}
Release Channel: ${F}`})))};function _(n,i,t){return window.enmity.settings.get(n,i,t)}const[K,L,U,O,C]=T(r.byProps("setString"),r.byProps("openLazy","hideActionSheet"),r.byProps("getChannel","getDMFromUserId"),r.byProps("getMessage","getMessages"),r.byProps("_currentDispatchActionType","_subscriptions","_actionHandlers","_waitQueue")),b=M("dislate"),H={...$,onStart(){const n=()=>{for(const i of["MESSAGE_UPDATE","MESSAGE_DELETE"])try{C.dispatch({type:i,message:{}})}catch(t){console.log(`[Dislate Local Error ${t}]`)}b.before(L,"openLazy",(i,[t,c],u)=>{c==="MessageLongPressActionSheet"&&t.then(h=>{b.after(h,"default",(p,s,k)=>{var v,f;if(k.props.children.props.children.props.children[1][0].key=="1002")return;const l=O.getMessage(s[0].message.channel_id,s[0].message.id);if((f=(v=s[0])==null?void 0:v.message)!=null&&f.content){try{if(!s[0].edited_timestamp._isValid)return}catch{}k.props.children.props.children.props.children[1].unshift(a.createElement(o,{key:"1002",label:"Translate",leading:a.createElement(o.Icon,{source:m("img_nitro_star")}),onPress:()=>{try{if(!(l!=null&&l.editedTimestamp)||(l==null?void 0:l.editedTimestamp._isValid)){const w={type:"MESSAGE_UPDATE",message:{...l,edited_timestamp:"invalid_timestamp",content:`${l.content}
[${_("Dislate","DislateLangEngine")}]
[${_("Dislate","DislateLangTo")}]`,guild_id:U.getChannel(l.channel_id).guild_id},log_edit:!1};C.dispatch(w)}L.hideActionSheet()}catch(w){console.log(`[Dislate Local Error ${w}]`)}}}))}})})})};setTimeout(()=>{n()},300)},onStop(){b.unpatchAll()},getSettingsPanel({settings:n}){return a.createElement(G,{settings:n})}};x(H);
