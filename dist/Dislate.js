const{components:g}=window.enmity;g.Alert,g.Button;const We=g.FlatList,Te=g.Image;g.ImageBackground,g.KeyboardAvoidingView,g.Modal,g.Pressable;const Ke=g.RefreshControl,de=g.ScrollView;g.SectionList,g.StatusBar,g.StyleSheet,g.Switch;const C=g.Text;g.TextInput,g.TouchableHighlight;const P=g.TouchableOpacity;g.TouchableWithoutFeedback,g.Touchable;const D=g.View;g.VirtualizedList,g.Form,g.FormArrow,g.FormCTA,g.FormCTAButton,g.FormCardSection,g.FormCheckbox;const U=g.FormDivider;g.FormHint,g.FormIcon,g.FormInput,g.FormLabel,g.FormRadio;const h=g.FormRow;g.FormSection,g.FormSelect,g.FormSubLabel;const he=g.FormSwitch;g.FormTernaryCheckBox,g.FormText,g.FormTextColors,g.FormTextSizes;function Je(e){window.enmity.plugins.registerPlugin(e)}const A={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,t)=>window.enmity.modules.filters.byName(e,t),byTypeName:(e,t)=>window.enmity.modules.filters.byTypeName(e,t),byDisplayName:(e,t)=>window.enmity.modules.filters.byDisplayName(e,t)};function Xe(e,t){return window.enmity.modules.getModule(e,t)}function ne(...e){return window.enmity.modules.bulk(...e)}function B(...e){return window.enmity.modules.getByProps(...e)}function fe(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common;const d=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars;const M=window.enmity.modules.common.Native,n=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher;const W=window.enmity.modules.common.Storage,T=window.enmity.modules.common.Toasts,V=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings;const $e=window.enmity.modules.common.Users;window.enmity.modules.common.Navigation;const ye=window.enmity.modules.common.NavigationNative;window.enmity.modules.common.NavigationStack;const De=window.enmity.modules.common.Theme;window.enmity.modules.common.Linking;const O=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function Ze(e){return window.enmity.patcher.create(e)}var i="Dislate",G="1.3.8",Qe="Translates text into a desired language.",Ie="stable",et=[{name:"Acquite <3",id:"581573474296791211",profile:"https://github.com/acquitelol/"}],j={download:"https://raw.githubusercontent.com/acquitelol/dislate/main/dist/Dislate.js",repo:"https://github.com/acquitelol/dislate",build:"patch-2.2.8",hash:"fea97c49"},tt="#ff91ff",v={name:i,version:G,description:Qe,release:Ie,authors:et,plugin:j,color:tt};function F(e,t,a){window.enmity.settings.set(e,t,a)}function f(e,t,a){return window.enmity.settings.get(e,t,a)}function K(e,t,a){return window.enmity.settings.getBoolean(e,t,a)}function nt(e,t,a){return window.enmity.utilities.findInReactTree(e,t,a)}const at="https://translate.googleapis.com/translate_a/single",Le={fetch:({from:e,to:t,text:a})=>`${at}?client=gtx&sl=${e}&tl=${t}&dt=t&q=${encodeURIComponent(a)}`,parse:e=>e.json().then(t=>{if(t=t&&t[0]&&t[0][0]&&t[0].map(a=>a[0]).join(""),!t)throw new Error("Invalid Translation!");return t})};if(typeof fetch=="undefined")try{global.fetch=require("node-fetch")}catch{console.warn("Please make sure node-fetch is available")}async function ot(e,{fromLang:t,toLang:a}){const o=Le.fetch({text:e,from:t,to:a});return await fetch(o).then(Le.parse)}async function rt(e,{fromLang:t="detect",toLang:a="english"},o,r){return r?e:await ot(e,{fromLang:o[t],toLang:o[a]})}var ae={string:rt},R=(e,t,a,o,r)=>{try{return e(...t)}catch(s){console.warn(`[${a}] The following error happened when trying to ${o} ${r!=null?r:"unspecificied label"}: ${s}`);return}};const it=(e,t,a)=>R(()=>{if(e){for(let o=0;o<e.length;o++)if(t(e[o],o,e))return e[o]}},[e,t],i,"find an item at",a),pe=(e,t,a,o)=>R(()=>{if(e){e.length++,a++;for(let r=e.length-1;r>=a;r--)e[r]=e[r-1];return e[a-1]=t,e.length}},[e,t,a],i,"insert an item at",o),st=(e,t,a)=>R(()=>{let o=[];for(let r=0;r<e.length;r++)t(e[r],r,e)&&pe(o,e[r],o.length,"filtering an array");return o},[e,t],i,"filtering an array at",a),lt=(e,t,a)=>{R(()=>{for(let o=0;o<e.length;o++)t(e[o],o,e)},[e,t],i,"loop through an array at",a)};async function ct(e,t,a){await R(async function(){for(let o=0;o<e.length;o++)await t(e[o],o,e)},[e,t],i,"loop through an array at",a)}const mt=(e,t,a)=>R(()=>{let o=[];for(let r=0;r<e.length;r++)pe(o,t(e[r],r,e),o.length);return o},[e,t],i,"map an array at",a);var y={filterItem:st,findItem:it,forItem:lt,forItemAsync:ct,mapItem:mt,insertItem:pe};const gt=(e,t)=>y.mapItem(e.split(t?/(?=[A-Z])/:"_"),a=>a[0].toUpperCase()+a.slice(1)).join(" "),ut=(e,t)=>R(()=>{let a=y.mapItem(e.split(`
`),(o,r)=>{if(o!="")return`"${o.replaceAll(":",'":"').replace(" ","")}"${r==e.split(`
`).length-1?"":","}`},"formatting object");return a[0]=`{${a[0]}`,a[a.length-1]=`${a[a.length-1]}}`,JSON.parse(a.join(""))},[e],i,"formatting object at",t);var L={string:gt,object:ut};async function dt(e,t){await R(async function(){var a;e.type==="storage"?await W.setItem(e.name,JSON.stringify(e.content)):F(i,e.name,e.content);const o=JSON.parse((a=f(i,"state_store",null))!=null?a:"[]");y.findItem(o,r=>r.name===e.name,"finding existing label in store state")||o.push(e),F(i,"state_store",JSON.stringify(o))},[e],i,"storing an item in plugin file or storage at",t)}var J={item:dt};async function ht(e){return await R(async function(){const t=await W.getItem("device_list");if(t)return JSON.parse(t);const a=await(await fetch("https://gist.githubusercontent.com/adamawolf/3048717/raw/1ee7e1a93dff9416f6ff34dd36b0ffbad9b956e9/Apple_mobile_device_types.txt")).text(),o=L.object(a,"fetching device list");return await J.item({name:"device_list",content:o,type:"storage"},"storing device list in storage"),JSON.parse(await W.getItem("device_list"))},[],i,"get the device list",e)}var ft={getDeviceList:ht};async function Ce(){var e,t,a;const o=await ft.getDeviceList(),r=window.HermesInternal.getRuntimeProperties(),s=B("View","Text").Platform.constants,l=s.reactNativeVersion;return{Plugin:{Version:G,Build:j.hash,Channel:Ie},Client:{Version:M.InfoDictionaryManager.Version,Build:M.InfoDictionaryManager.Build,Release:M.InfoDictionaryManager.ReleaseChannel,Bundle:M.InfoDictionaryManager.Identifier.split(".")[2]},React:{Version:n.version,Bytecode:r["Bytecode Version"],Hermes:r["OSS Release Version"],Native:`${(e=l.major)!=null?e:0}.${(t=l.minor)!=null?t:0}.${(a=l.patch)!=null?a:0}`},Native:{Version:M.DCDDeviceManager.systemVersion,Device:o[M.DCDDeviceManager.device],Manufacturer:M.DCDDeviceManager.deviceManufacturer,Idiom:s.interfaceIdiom}}}async function yt(e,t){return await R(async function(){let a=[`**[${i}] Debug Information**
`];const o=await Ce();return y.forItem(Object.keys(e),r=>{Object.values(e[r]).some(s=>s)&&y.insertItem(a,`[**${r}**]`,a.length,"pushing to debug argument array"),y.forItem(Object.keys(e[r]),s=>{e[r][s]&&o[r][s]&&y.insertItem(a,`> **${s}**: ${o[r][s]}`,a.length,"pushing to debug argument array")})},"looping through debug options"),a.join(`
`)},[e],i,"creating debug info at",t)}var z={fetchDebugArguments:Ce,debugInfo:yt};function E(e){return window.enmity.assets.getIDByName(e)}var u={Translate:E("img_nitro_star"),Revert:E("ic_highlight"),Debug:E("debug"),Retry:E("ic_message_retry"),Failed:E("Small"),Cancel:E("ic_megaphone_nsfw_16px"),Delete:E("ic_message_delete"),Copy:E("toast_copy_link"),Open:E("ic_leave_stage"),Clipboard:E("pending-alert"),Add:E("ic_add_perk_24px"),Clock:E("clock"),Settings:{Toasts:{Context:E("toast_image_saved"),Settings:E("ic_selection_checked_24px"),Failed:E("ic_close_circle_24px")},TranslateFrom:E("ic_raised_hand_list"),TranslateTo:E("ic_activity_24px"),Debug:E("ic_rulebook_16px"),Initial:E("coffee"),Update:E("discover"),Locale:E("ic_locale_24px"),Back:E("ios-back")}};const pt={messageSpoofer:"69",copyEmbed:"1337",invisChat:"420",cutMessage:"512",dislate:"1002",viewRaw:"-1"},bt=(e=.1)=>({shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:e,shadowRadius:4.65,elevation:8}),be=O.createThemedStyleSheet({container:{backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,flex:.5},card:{backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_PRIMARY,color:d.ThemeColorMap.TEXT_NORMAL},header:{backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,shadowColor:"transparent",elevation:0},text:{color:d.ThemeColorMap.HEADER_PRIMARY,fontFamily:d.Fonts.PRIMARY_MEDIUM,fontSize:16},title:{color:"white",fontFamily:d.Fonts.PRIMARY_NORMAL}}),wt={cardStyle:be.card,headerStyle:be.header,headerTitleContainerStyle:{color:d.ThemeColorMap.HEADER_PRIMARY},headerTitleAlign:"center",safeAreaInsets:{top:0}},vt=(e,t)=>{T.open({content:t=="clipboard"?`Copied ${e} to clipboard.`:e,source:t=="clipboard"?u.Clipboard:u.Settings.Initial})},Et=e=>R(()=>{const{Version:t}=M.InfoDictionaryManager;if(parseInt(t.substring(0,3))>164){const{RawColor:a}=B("SemanticColor");return a[e[De.theme].raw]}return e[{dark:0,light:1,amoled:2}[De.theme]]},[e],i,"getting a formatted color for both newest and older versions"),St=(e,t,a,o=186,r)=>R(()=>{let s=Et(e).replace("#","");const l=(p,b,$)=>parseInt(p.substring(b[0],b[1]),$),c=l(s,[0,2],16),m=l(s,[2,4],16),w=l(s,[4,6],16);return(c+m+w)/(255*3)>o?a:t},[e,t,a,o],i,"checking if color should be light or dark at",r);var S={externalPlugins:pt,shadow:bt,PageStyles:be,PageOptions:wt,displayToast:vt,filterColor:St};const{native:X}=window.enmity;function Tt(){X.reload()}X.version,X.build,X.device,X.version;async function $t(){await R(async function(){const e=`${j.download}?${Math.floor(Math.random()*1001)}.js`,t=await(await fetch(e)).text(),a=t.match(/\d+\.\d+\.\d+/g),o=t.match(/hash:"(.*?)"/);if(!a&&!o)return It(i,[G,j.build]);const r=a&&a[0],s=o&&o[1];return r&&r!=G?Re(e,r,"version"):s&&s!=j.hash?Re(e,s,"build"):Dt(i,[G,j.hash])},[j],i,"checking if latest version at","the async check for updates callback")}const Re=(e,t,a)=>{V.show({title:"Update found",body:`A newer ${a} is available for ${i}. ${a=="build"?`
The version will remain at ${G}, but the build will update to ${t}.`:""}
Would you like to install ${a} \`${t}\` now?`,confirmText:"Update",cancelText:"Not now",onConfirm:()=>Lt(e,t,a)})},Dt=(e,[t,a])=>{console.log(`[${e}] Plugin is on the latest update, which is version ${t} and build ${a}`),V.show({title:"Already on latest",body:`${e} is already updated to the latest version.
Version: \`${t}\`
Build: \`${a}\``,confirmText:"Okay"})},It=(e,[t,a])=>{console.log(`[${e}] Plugin failed to update to the latest version and build, remaining at ${t} and ${a}`),V.show({title:"Failed",body:`${e} to find a new version or build.
The current versions will remain as follows:
Version: \`${t}\`
Build: \`${a}\``,confirmText:"Okay"})};async function Lt(e,t,a){await R(async function(){window.enmity.plugins.installPlugin(e,({data:o})=>{o=="installed_plugin"||o=="overridden_plugin"?V.show({title:`Updated ${i}`,body:`Successfully updated to ${a} \`${t}\`. 
Would you like to reload Discord now?`,confirmText:"Reload",cancelText:"Not now",onConfirm:()=>Tt()}):console.log(`[${i}] Plugin failed to update to ${a} ${t}.`)})},[e,t,a],i,"installing plugin at","new version available")}var Ct={checkForUpdates:$t},xe;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.Guild=1]="Guild",e[e.DM=2]="DM"})(xe||(xe={}));var oe;(function(e){e[e.Chat=1]="Chat",e[e.User=2]="User",e[e.Message=3]="Message"})(oe||(oe={}));var re;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.BuiltInText=1]="BuiltInText",e[e.BuiltInIntegration=2]="BuiltInIntegration",e[e.Bot=3]="Bot",e[e.Placeholder=4]="Placeholder"})(re||(re={}));var ke;(function(e){e[e.Role=1]="Role",e[e.User=2]="User"})(ke||(ke={}));var Z;(function(e){e[e.SubCommand=1]="SubCommand",e[e.SubCommandGroup=2]="SubCommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionnable=9]="Mentionnable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(Z||(Z={}));var Ae;(function(e){e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent"})(Ae||(Ae={}));var Y=["detect","amharic","arabic","aymara","assamese","akan","azerbaijani","belarusian","bulgarian","bambara","bengali","corsican","czech","bosnian","danish","catalan","valencian","german","ewe","divehi","dhivehi","maldivian","english","greek","estonian","esperanto","basque","spanish","castilian","finnish","french","persian","irish","galician","guarani","western_frisian","gujarati","gaelic","scottish_gaelic","hausa","croatian","hebrew","hindi","haitian","haitian_creole","armenian","indonesian","hungarian","igbo","icelandic","italian","georgian","javanese","japanese","korean","kazakh","kannada","afrikaans","central_khmer","welsh","kurdish","kirghiz","kyrgyz","latin","luxembourgish","letzeburgesch","ganda","lao","latvian","lingala","lithuanian","malagasy","macedonian","malayalam","maori","marathi","norwegian_bokm\xE5l","mongolian","burmese","maltese","nepali","malay","dutch","flemish","chichewa","chewa","nyanja","norwegian","oromo","oriya","panjabi","punjabi","polish","quechua","pushto","pashto","russian","sanskrit","romanian","moldavian","moldovan","slovenian","kinyarwanda","slovak","sinhala","sinhalese","samoan","shona","somali","serbian","albanian","swahili","southern_sotho","swedish","sundanese","tamil","tajik","telugu","tagalog","turkmen","tigrinya","thai","tsonga","sindhi","portuguese","twi","turkish","tatar","urdu","ukrainian","uighur","uyghur","uzbek","vietnamese","yiddish","xhosa","chinese_traditional","chinese_simplified","zulu","yoruba"],Q=["auto","am","ar","ay","as","ak","az","be","bg","bm","bn","co","cs","bs","da","ca","ca","de","ee","dv","dv","dv","en","el","et","eo","eu","es","es","fi","fr","fa","ga","gl","gn","fy","gu","gd","gd","ha","hr","he","hi","ht","ht","hy","id","hu","ig","is","it","ka","jv","ja","ko","kk","kn","af","km","cy","ku","ky","ky","la","lb","lb","lg","lo","lv","ln","lt","mg","mk","ml","mi","mr","nb","mn","my","mt","ne","ms","nl","nl","ny","ny","ny","no","om","or","pa","pa","pl","qu","ps","ps","ru","sa","ro","ro","ro","sl","rw","sk","si","si","sm","sn","so","sr","sq","sw","st","sv","su","ta","tg","te","tl","tk","ti","th","ts","sd","pt","tw","tr","tt","ur","uk","ug","ug","uz","vi","yi","xh","zh-tw","zh-cn","zu","yo"],Rt=({option:e,parent:t,debugOptions:a,onConfirm:o})=>{const[r,s]=n.useState(f(i,t,{})[e]);n.useEffect(()=>{const c=f(i,t,{});c[e]||J.item({name:t,content:{...c,[e]:!1},type:"setting",override:{}})},[]);const l=O.createThemedStyleSheet({icon:{color:d.ThemeColorMap.INTERACTIVE_NORMAL},itemDisabled:{color:d.ThemeColorMap.TEXT_MUTED},itemEnabled:{color:d.ThemeColorMap.INTERACTIVE_NORMAL}});return n.createElement(h,{key:e,label:e,onPress:()=>{const c=f(i,t,{});J.item({name:t,content:{...c,[e]:!c[e]},type:"setting",override:{}}),s(f(i,t,{})[e])},onLongPress:async function(){await o(await z.debugInfo({[t]:{[e]:!0}}),`${t} \u279D ${e}`)},leading:n.createElement(h.Icon,{style:l.icon,source:r?u.Settings.Toasts.Settings:u.Settings.Toasts.Failed}),trailing:()=>n.createElement(C,{style:[{paddingTop:5,paddingBottom:5,paddingRight:10},r?l.itemEnabled:l.itemDisabled]},a[t][e])})};const we=window.enmity.modules.common.Components.General.Animated,xt=window.enmity.modules.common.Components.General.Easing;var _e=({label:e,content:t,type:a})=>{var o;const r=O.createThemedStyleSheet({button:{width:"90%",borderRadius:10,marginLeft:"5%",marginRight:"5%",...S.shadow()},text:{color:"#f2f2f2",textAlign:"left",letterSpacing:.25,padding:10},textHeader:{fontSize:20,fontFamily:d.Fonts.PRIMARY_BOLD},textContent:{fontSize:16,fontFamily:d.Fonts.PRIMARY_NORMAL},image:{width:25,height:25,borderRadius:4,position:"absolute",right:0,margin:10}}),s=n.useRef(new we.Value(1)).current;async function l(){const w=()=>we.timing(s,{toValue:0,duration:250,useNativeDriver:!0,easing:xt.sin}).start();V.show({title:"Close Tip?",body:"You can either hide this information box forever, or just hide it until you open this page again.",confirmText:"Don't Show Again",cancelText:"Cancel",onConfirm:async function(){await J.item({name:e,content:!0,type:"setting",override:!1},`storing dialog at ${e} in Dialog component`),w()}})}const c={standard:{backgroundColor:"rgba(0, 0, 0, 0.5)",marginTop:20},floating:{position:"absolute",bottom:0,marginBottom:30,backgroundColor:"rgba(0, 0, 0, 0.8)"}},m={transform:[{scale:s}]};return f(i,e,!1)?n.createElement(n.Fragment,null):n.createElement(n.Fragment,null,n.createElement(we.View,{style:m},n.createElement(P,{style:[r.button,(o=c[a])!=null?o:c.standard],onPress:async function(){await l()}},n.createElement(D,{style:{width:"100%",flexDirection:"row"}},n.createElement(Te,{style:r.image,source:{uri:$e.getCurrentUser().getAvatarURL()}})),n.createElement(C,{style:[r.text,r.textHeader]},e),n.createElement(C,{style:[r.text,r.textContent]},t))))},ie=({label:e,component:t})=>{const a=O.createThemedStyleSheet({text:{color:d.ThemeColorMap.HEADER_SECONDARY,paddingLeft:"5.5%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:d.Fonts.PRIMARY_BOLD,fontSize:12}});return n.createElement(D,{style:{marginTop:10}},n.createElement(C,{style:[a.text,a.optionText]},e.toUpperCase()),t)};const kt=fe("StaticSearchBarContainer"),At=B("openLazy","hideActionSheet");var _t=({onConfirm:e,type:t})=>{const[a,o]=n.useState([]),[r,s]=n.useState("");n.useEffect(async function(){o(await z.fetchDebugArguments())},[]);const l=O.createThemedStyleSheet({button:{width:"42.5%",height:50,justifyContent:"center",alignItems:"center",backgroundColor:d.ThemeColorMap.HEADER_PRIMARY,borderRadius:10,marginLeft:"5%",marginTop:20,marginBottom:5},buttonContainer:{flexDirection:"row"},text:{color:S.filterColor(d.ThemeColorMap.HEADER_PRIMARY,"#f2f2f2","#121212",.8,"buttons in debug info menu"),textAlign:"center",paddingLeft:10,paddingRight:10,letterSpacing:.25,fontFamily:d.Fonts.PRIMARY_BOLD},buttonText:{fontSize:16},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,...S.shadow()},pageContainer:{paddingTop:200,top:-200,paddingBottom:300,marginBottom:-450,backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_PRIMARY},searchWrapper:{flexDirection:"row"},searchContainer:{borderRadius:11,width:"65%",overflow:"hidden",marginTop:15,marginLeft:"5%",marginRight:"5%"},search:{margin:0,padding:0,borderBottomWidth:0,background:"none",backgroundColor:"none"},title:{color:d.ThemeColorMap.HEADER_SECONDARY,fontFamily:d.Fonts.DISPLAY_BOLD,letterSpacing:.25,textAlign:"center"},titleContainer:{width:"20%",marginTop:15,backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,borderRadius:10,justifyContent:"center",alignItems:"center"}});return n.createElement(de,{style:l.pageContainer},n.createElement(D,{style:[l.searchWrapper,{...S.shadow(.05)}]},n.createElement(D,{style:l.searchContainer},n.createElement(kt,{placeholder:"Search...",style:l.search,inputStyle:l.search,onChangeText:c=>s(c),collapsable:!0,value:r})),n.createElement(P,{style:l.titleContainer,onPress:()=>{y.forItem(Object.keys(a),c=>{y.forItem(Object.keys(a[c]),m=>{J.item({name:c,content:{...f(i,c),[m]:!1},type:"setting",override:{}})},`list of debug information options in ${c}`)}),At.hideActionSheet(),T.open({content:"Successfully cleared all debug options.",source:u.Delete})}},n.createElement(C,{style:l.title},"Clear All"))),n.createElement(D,{style:l.buttonContainer},n.createElement(P,{style:l.button,onPress:async function(){await e(await z.debugInfo(await z.fetchDebugArguments()),"full debug log")}},n.createElement(C,{style:[l.text,l.buttonText]},L.string(t!=null?t:"send")," All")),n.createElement(P,{style:l.button,onPress:async function(){const c=y.mapItem(Object.keys(a),m=>{var w;return{[m]:(w=f(i,m,{}))!=null?w:{}}}).reduce((m,w)=>({...m,...w}),{});await e(await z.debugInfo(c),"partial debug log")}},n.createElement(C,{style:[l.text,l.buttonText]},L.string(t!=null?t:"send")," Message"))),y.mapItem(Object.keys(a),c=>n.createElement(ie,{label:c,component:n.createElement(n.Fragment,null,n.createElement(D,{style:l.container},y.mapItem(y.filterItem(Object.keys(a[c]),m=>r?m.toLowerCase().includes(r):m),(m,w,p)=>n.createElement(n.Fragment,null,n.createElement(Rt,{option:m,parent:c,debugOptions:a,onConfirm:e}),w!==p.length-1?n.createElement(U,null):null),`list of debug information options in ${c}`)))})),n.createElement(_e,{label:"Information",content:`You can either tap on each item to toggle it and press "${L.string(t!=null?t:"send")} Message", or you can long-press on an item to only send that item.

To close this dialog, press on it.`,type:"standard"}))},Pe;const Me=((Pe=Xe(e=>{var t,a;return((a=(t=e.default)==null?void 0:t.render)==null?void 0:a.name)=="ActionSheet"}))!=null?Pe:{default:{render:!1}}).default.render,Pt=B("BottomSheetScrollView").BottomSheetScrollView,Mt=B("openLazy","hideActionSheet");function Fe(e,t){Me?Mt.openLazy(new Promise(a=>a({default:Ft})),"DebugInfoActionSheet",{onConfirm:e,type:t}):T.open({content:"You cannot open ActionSheets on this version! Upgrade to 163+",source:u.Failed})}function Ft({onConfirm:e,type:t}){return n.createElement(Me,{scrollable:!0},n.createElement(Pt,{contentContainerStyle:{marginBottom:50}},n.createElement(_t,{onConfirm:e,type:t})))}var Ne,Be,Oe;const[Nt,Bt]=ne(A.byProps("setString"),A.byProps("openLazy","hideActionSheet")),je=e=>({debug:async function(){return await new Promise(t=>{Fe((a,o)=>{Bt.hideActionSheet(),T.open({content:`Sent ${o} in #${e}`,source:u.Settings.Toasts.Settings}),t({content:a})},"send")})},example:async function(){const t="Example Message. Enmity is a state or feeling of active opposition or hostility.",a=Math.floor(Math.random()*Y.length),o=Y[a],r=await ae.string(t,{fromLang:"detect",toLang:o},Object.assign({},...Y.map((s,l)=>({[s]:Q[l]}))));return await new Promise(s=>{V.show({title:"Are you sure?",body:`**This is a testing message.**
You are about to send the following:

**English:** ${t}

**${L.string(o)}:** ${r}

Are you sure you want to send this? :3`,confirmText:"Yep, send it!",cancelText:"Nope, don't send it",onConfirm:()=>{T.open({content:`Sent test message in #${e}.`,source:u.Translate}),s({content:`**[${i}] Test Message**

**English:** ${t}
**${L.string(o)}:** ${r}`})},onCancel:()=>{T.open({content:"Cancelled translated message request.",source:u.Cancel}),s({})}})})},clearStores:async function(){var t;const a=(t=JSON.parse(f(i,"state_store",null)))!=null?t:[];await y.forItemAsync(a,async function(o){var r;o.type==="storage"?await W.removeItem(o.name):F(i,o.name,(r=o.override)!=null?r:!1)},"clearing state store"),F(i,"state_store",null),T.open({content:`Cleared all ${i} stores.`,source:u.Settings.Toasts.Settings})},download:async function(){return await new Promise(t=>{Nt.setString(`${j.download}?${Math.floor(Math.random()*1001)}.js`),S.displayToast("download link","clipboard"),t({})})}}),Ot=y.mapItem(Object.keys(je("placeholder")),e=>({name:L.string(e,!0),displayName:L.string(e,!0),value:e}),"debug options formatted as a command format");var jt={id:`${(Ne=i)==null?void 0:Ne.toLowerCase()}`,name:`${(Be=i)==null?void 0:Be.toLowerCase()}`,displayName:`${(Oe=i)==null?void 0:Oe.toLowerCase()}`,description:`Choose from a list of options for debugging in ${i}.`,displayDescription:`Choose from a list of options for debugging in ${i}.`,type:oe.Chat,inputType:re.BuiltInText,options:[{name:"type",displayName:"type",description:"The type of command to execute.",displayDescription:"The type of command to execute.",type:Z.String,choices:[...Ot],required:!0}],execute:async function(e,t){var a;const o=y.findItem(e,l=>l.name=="type").value,r=je(t.channel.name),s=()=>{T.open({content:"Invalid command argument.",source:u.Clock})};return await((a=r[o])!=null?a:s)()}};function Ut(e,t,a,o){window.enmity.clyde.sendReply(e,t,a,o)}const Vt=y.mapItem(y.filterItem(Y,e=>e!=="detect","filter for everything except for detect"),e=>({name:L.string(e),displayName:L.string(e),value:e}),"language names");var zt={id:"translate",name:"translate",displayName:"translate",description:`Send a message using ${i} in any language chosen, using the Google Translate API.`,displayDescription:`Send a message using ${i} in any language chosen, using the Google Translate API.`,type:oe.Chat,inputType:re.BuiltInText,options:[{name:"text",displayName:"text",description:`The text/message for ${i} to translate. Please note some formatting of mentions and emojis may break due to the API.`,displayDescription:`The text/message for ${i} to translate. Please note some formatting of mentions and emojis may break due to the API.`,type:Z.String,required:!0},{name:"language",displayName:"language",description:`The language that ${i} will translate the text into. This can be any language from the list, except "Detect".`,displayDescription:`The language that ${i} will translate the text into. This can be any language from the list, except "Detect".`,type:Z.String,choices:[...Vt],required:!0}],execute:async function(e,t){const a=y.findItem(e,c=>c.name=="text","translate text").value,o=y.findItem(e,c=>c.name=="language","translate language").value,r=Object.assign({},...Y.map((c,m)=>({[c]:Q[m]}))),s=await ae.string(a,{fromLang:f(i,"DislateLangFrom","detect"),toLang:o},r),l=await ae.string(s,{fromLang:f(i,"DislateLangFrom","detect"),toLang:f(i,"DislateLangTo","english")},r);return!s||!l?(Ut(t.channel.id,`Failed to send message in #${t.channel.name}`),{}):await new Promise(c=>{V.show({title:"Are you sure?",body:`The message **about to be sent** is:
\`${s}\`

In **${L.string(f(i,"DislateLangTo","english"))}**, this will translate to:
\`${l}\`

${f(i,"DislateBothLangToggle",!1)?`**Note: Sending original and translated**
`:""}Are you sure you want to send this? :3`,confirmText:"Yep, send it!",cancelText:"Nope, don't send it",onConfirm:()=>{T.open({content:`Sent message in #${t.channel.name}, which was translated into ${L.string(o)}.`,source:u.Translate}),c({content:f(i,"DislateBothLangToggle",!1)?`${a}

${s}`:s})},onCancel:()=>{T.open({content:"Cancelled translated message request.",source:u.Cancel}),c({})}})})}},Yt=["auto","amh","ara","aym","asm","aka","aze","bel","bul","bam","ben","cos","cze","bos","dan","cat","cat","ger","ewe","div","div","div","eng","gre","est","epo","baq","spa","spa","fin","fre","per","gle","glg","grn","fry","guj","gla","gla","hau","hrv","heb","hin","hat","hat","arm","ind","hun","ibo","ice","ita","geo","jav","jpn","kor","kaz","kan","afr","khm","wel","kur","kir","kir","lat","ltz","ltz","lug","lao","lav","lin","lit","mlg","mac","mal","mao","mar","nob","mon","bur","mlt","nep","may","dut","dut","nya","nya","nya","nor","orm","ori","pan","pan","pol","que","pus","pus","rus","san","rum","rum","rum","slv","kin","slo","sin","sin","smo","sna","som","srp","alb","swa","sot","swe","sun","tam","tgk","tel","tgl","tuk","tir","tha","tso","snd","por","twi","tur","tat","urd","ukr","uig","uig","uzb","vie","yid","xho","chit","chis","zul","yor"];const se=window.enmity.modules.common.Components.General.Animated;var Gt=({language:e,languages:t,Navigation:a,selected:o,setSelected:r})=>{const s=Object.assign({},...Q.map(($,x)=>({[$]:Yt[x]}))),l=n.useRef(new se.Value(1)).current,c=()=>se.spring(l,{toValue:1.05,duration:250,useNativeDriver:!0}).start(),m=()=>se.spring(l,{toValue:1,duration:250,useNativeDriver:!0}).start(),w={transform:[{scale:l}]},p=O.createThemedStyleSheet({container:{width:"95%",marginLeft:"2.5%",borderRadius:10,marginTop:15,backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY}}),b=$=>{var x;F(i,`DislateLang${f(i,"DislateLangFilter")?"To":"From"}`,$),T.open({content:`Set ${t[$].toUpperCase()} as Language to Translate ${f(i,"DislateLangFilter")?"to":"from"}.`,source:f(i,"DislateLangFilter")?u.Settings.TranslateTo:u.Settings.TranslateFrom}),r(f(i,`DislateLang${f(i,"DislateLangFilter")?"To":"From"}`)),(x=a==null?void 0:a.pop)==null||x.call(a)};return n.createElement(n.Fragment,null,n.createElement(P,{onPress:()=>b(e),onLongPress:()=>b(e),onPressIn:c,onPressOut:m},n.createElement(se.View,{style:[w,p.container]},n.createElement(h,{label:L.string(e),subLabel:`Aliases: ${t[e]}, ${s[t[e]]}`,trailing:h.Arrow,leading:n.createElement(h.Icon,{style:{color:d.ThemeColorMap.INTERACTIVE_NORMAL},source:o===e?u.Settings.Toasts.Settings:u.Add})}))))};const Ht=fe("StaticSearchBarContainer");var Ue=({languages:e,Navigator:t})=>{const[a,o]=n.useState([]),[r,s]=n.useState(e),[l,c]=n.useState(!1),[m,w]=n.useState(f(i,`DislateLang${f(i,"DislateLangFilter")?"To":"From"}`)),p=t.useNavigation();return n.createElement(D,{style:{marginBottom:50}},n.createElement(Ht,{placeholder:"Search Language",onChangeText:b=>o(b)}),n.createElement(de,{refreshControl:n.createElement(Ke,{refreshing:l,onRefresh:async function(){c(!0),s(Object.assign({},...Y.map((b,$)=>({[b]:Q[$]})))),c(!1)}})},n.createElement(D,{style:{paddingBottom:30}},n.createElement(We,{data:y.filterItem(Object.keys(r),b=>b.toLowerCase().includes(a),"getting searched languages"),renderItem:({item:b})=>f(i,"DislateLangFilter")&&b=="detect"?n.createElement(n.Fragment,null):n.createElement(Gt,{language:b,languages:r,Navigation:p,selected:m,setSelected:w}),keyExtractor:b=>b}))),n.createElement(_e,{label:"Important",content:`You can either press or long-press on an item to select it as the language to translate ${f(i,"DislateLangFilter")?"to":"from"}. Your current selected language has a \u2713 next to it.

To hide this dialog, press on it.`,type:"floating"}))};const le=window.enmity.modules.common.Components.General.Animated,[ve,qt]=ne(A.byProps("transitionToGuild","openURL"),A.byProps("setString","getString"));var Wt=({name:e,version:t,plugin:a,authors:o})=>{const r=O.createThemedStyleSheet({container:{marginTop:25,marginLeft:"5%",marginBottom:-15,flexDirection:"row"},textContainer:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap",...S.shadow()},image:{width:75,height:75,borderRadius:10,...S.shadow()},mainText:{opacity:.975,letterSpacing:.25},header:{color:d.ThemeColorMap.HEADER_PRIMARY,fontFamily:d.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},subHeader:{color:d.ThemeColorMap.HEADER_SECONDARY,fontSize:12.75}}),s=n.useRef(new le.Value(1)).current,l=()=>le.spring(s,{toValue:1.1,duration:10,useNativeDriver:!0}).start(),c=()=>le.spring(s,{toValue:1,duration:250,useNativeDriver:!0}).start(),m=()=>ve.openURL(a.repo),w={transform:[{scale:s}]};return n.createElement(n.Fragment,null,n.createElement(D,{style:r.container},n.createElement(P,{onPress:m,onPressIn:l,onPressOut:c},n.createElement(le.View,{style:w},n.createElement(Te,{style:[r.image],source:{uri:$e.getCurrentUser().getAvatarURL()}}))),n.createElement(D,{style:r.textContainer},n.createElement(P,{onPress:()=>ve.openURL(a.repo)},n.createElement(C,{style:[r.mainText,r.header]},e)),n.createElement(D,{style:{flexDirection:"row"}},n.createElement(C,{style:[r.mainText,r.subHeader]},"A project by"),y.mapItem(o,(p,b,$)=>n.createElement(P,{onPress:()=>ve.openURL(p.profile)},n.createElement(C,{style:[r.mainText,r.subHeader,{paddingLeft:4,fontFamily:d.Fonts.DISPLAY_BOLD,flexDirection:"row"}]},p.name,b<$.length-1?",":null)))),n.createElement(D,null,n.createElement(P,{style:{flexDirection:"row"},onPress:async function(){const p=await z.fetchDebugArguments();qt.setString(await z.debugInfo(p)),S.displayToast("debug information","clipboard")}},n.createElement(C,{style:[r.mainText,r.subHeader]},"Version:"),n.createElement(C,{style:[r.mainText,r.subHeader,{paddingLeft:4,fontFamily:d.Fonts.DISPLAY_BOLD}]},t))))))};const[Kt,Jt,Xt]=ne(A.byProps("transitionToGuild","openURL"),A.byProps("setString","getString"),A.byProps("openLazy","hideActionSheet"));var Zt=({settings:e,manifest:{name:t,version:a,plugin:o,authors:r,release:s},languages:l,renderPage:c})=>{const m=O.createThemedStyleSheet({icon:{color:d.ThemeColorMap.INTERACTIVE_NORMAL},item:{color:d.ThemeColorMap.TEXT_MUTED,fontFamily:d.Fonts.PRIMARY_MEDIUM},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,...S.shadow()},subheaderText:{color:d.ThemeColorMap.HEADER_SECONDARY,textAlign:"center",margin:10,marginBottom:50,letterSpacing:.25,fontFamily:d.Fonts.PRIMARY_BOLD,fontSize:14}}),w=ye.useNavigation();return n.createElement(de,null,n.createElement(Wt,{name:t,version:a,plugin:o,authors:r}),n.createElement(D,{style:{marginTop:20}},n.createElement(ie,{label:"Language",component:n.createElement(n.Fragment,null,n.createElement(D,{style:m.container},n.createElement(h,{label:"Translate From",leading:n.createElement(h.Icon,{style:m.icon,source:u.Settings.TranslateFrom}),trailing:()=>{var p;return n.createElement(D,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.createElement(C,{adjustsFontSizeToFit:!0,style:m.item},(p=L.string(f(t,"DislateLangFrom","detect")))!=null?p:"N/A"),n.createElement(h.Arrow,null))},onPress:()=>{F(t,"DislateLangFilter",!1),c(w,{pageName:`Translate ${K(t,"DislateLangFilter",!0)?"To":"From"}`,pagePanel:()=>n.createElement(Ue,{languages:l,Navigator:ye})})},onLongPress:()=>S.displayToast('Open a new page allowing you to choose a language that you can translate from. The default is "Detect".',"tooltip")}),n.createElement(U,null),n.createElement(h,{label:"Translate To",leading:n.createElement(h.Icon,{style:m.icon,source:u.Settings.TranslateTo}),trailing:()=>n.createElement(D,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.createElement(C,{adjustsFontSizeToFit:!0,style:m.item},L.string(f(t,"DislateLangTo","english"))),n.createElement(h.Arrow,null)),onPress:()=>{F(t,"DislateLangFilter",!0),c(w,{pageName:`Translate ${K(t,"DislateLangFilter",!0)?"To":"From"}`,pagePanel:()=>n.createElement(Ue,{languages:l,Navigator:ye})})},onLongPress:()=>S.displayToast('Open a new page allowing you to choose a language that you can translate to. The default is "English".',"tooltip")}),n.createElement(U,null),n.createElement(h,{label:"Abbreviate Language",leading:n.createElement(h.Icon,{style:m.icon,source:u.Retry}),subLabel:"Label language in a shorter form when translating (English \u279D EN).",onLongPress:()=>S.displayToast("Convert the full language name to an abbreviation when translating someone else's message. (test [English] \u279D test [EN])","tooltip"),trailing:n.createElement(he,{value:e.getBoolean("DislateLangAbbr",!1),onValueChange:()=>{e.toggle("DislateLangAbbr",!1),T.open({content:`Successfully ${e.getBoolean("DislateLangAbbr",!1)?"enabled":"disabled"} language abbreviations.`,source:u.Settings.Toasts.Settings})}})}),n.createElement(U,null),n.createElement(h,{label:"Send Original",leading:n.createElement(h.Icon,{style:m.icon,source:u.Settings.Locale}),subLabel:"Send both the Original and Translated message when using /translate.",onLongPress:()=>S.displayToast("When using the /translate command, send both the original message and the translated message at once.","tooltip"),trailing:n.createElement(he,{value:e.getBoolean("DislateBothLangToggle",!1),onValueChange:()=>{e.toggle("DislateBothLangToggle",!1),T.open({content:`Now sending ${e.getBoolean("DislateBothLangToggle",!1)?"original and translated":"only translated"} message.`,source:u.Settings.Toasts.Settings})}})})))}),n.createElement(ie,{label:"Utility",component:n.createElement(n.Fragment,null,n.createElement(D,{style:m.container},n.createElement(h,{label:"Initialisation Toasts",leading:n.createElement(h.Icon,{style:m.icon,source:u.Settings.Initial}),subLabel:`Toggle initialisation toasts to display loading state of ${t}.`,onLongPress:()=>S.displayToast(`When Enmity is first started, show toasts based on ${t}'s current state (starting, failed, retrying, etc)`,"tooltip"),trailing:n.createElement(he,{value:e.getBoolean("toastEnable",!1),onValueChange:()=>{e.toggle("toastEnable",!1),T.open({content:`Successfully ${e.getBoolean("toastEnable",!1)?"enabled":"disabled"} Load Toasts.`,source:u.Settings.Toasts.Settings})}})}),n.createElement(U,null),n.createElement(h,{label:"Open Debug Info",subLabel:`Open useful page to copy debug information like version and build of ${t} to clipboard.`,onLongPress:()=>S.displayToast(`Copy the full debug log to clipboard including ${t}'s Version, Build, and Release, Enmity's Version and Build, etc.`,"tooltip"),leading:n.createElement(h.Icon,{style:m.icon,source:u.Copy}),trailing:()=>n.createElement(h.Arrow,null),onPress:()=>{Fe((p,b)=>{Xt.hideActionSheet(),Jt.setString(p),S.displayToast(`${b}`,"clipboard")},"copy")}}),n.createElement(U,null),n.createElement(h,{label:"Clear Stores",subLabel:`Void most of the settings and stores used throughout ${t} to store data locally.`,onLongPress:()=>S.displayToast(`Clear stores and settings throughout ${t} including the settings to hide popups forever and the list of device codes.`,"tooltip"),leading:n.createElement(h.Icon,{style:m.icon,source:u.Delete}),trailing:()=>n.createElement(h.Arrow,null),onPress:async function(){var p;const b=(p=JSON.parse(f(t,"state_store",null)))!=null?p:[];await y.forItemAsync(b,async function($){var x;$.type==="storage"?await W.removeItem($.name):F(t,$.name,(x=$.override)!=null?x:!1)},"clearing state store"),F(t,"state_store",null),T.open({content:`Cleared all ${t} stores.`,source:u.Settings.Toasts.Settings})}})))}),n.createElement(ie,{label:"Source",component:n.createElement(n.Fragment,null,n.createElement(D,{style:m.container},n.createElement(h,{label:"Check for Updates",subLabel:`Search for any ${t} updates and notify you if an update is available.`,onLongPress:()=>S.displayToast(`Search GitHub for any new version or build of ${t} and prompts you to update, and then prompts you to restart Enmity afterwards.`,"tooltip"),leading:n.createElement(h.Icon,{style:m.icon,source:u.Settings.Update}),trailing:()=>n.createElement(h.Arrow,null),onPress:async function(){await Ct.checkForUpdates()}}),n.createElement(U,null),n.createElement(h,{label:"Source",subLabel:`Open the repository of ${t} externally.`,onLongPress:()=>S.displayToast(`Opens the repository of ${t} on GitHub in an external page to view any source code of the plugin.`,"tooltip"),leading:n.createElement(h.Icon,{style:m.icon,source:u.Open}),trailing:()=>n.createElement(h.Arrow,null),onPress:()=>{Kt.openURL(o.repo)}})))})),n.createElement(C,{style:m.subheaderText},`Build: (${o.hash}) Release: (${s})`))};const[Qt,en,tn]=ne(A.byProps("getChannel","getDMFromUserId"),A.byName("Icon"),A.byProps("openLazy","hideActionSheet")),nn=B("getMessage","getMessages"),Ee=B("_currentDispatchActionType","_subscriptions","_actionHandlers","_waitQueue"),an=fe("ActionSheet",{default:!1}),on=B("EmojiRow"),ce=Ze(v.name),Se=Object.assign({},...Y.map((e,t)=>({[e]:Q[t]})));let me=[{invalid_id:"rosie sucks"}];const Ve={...v,commands:[],patchActionSheet({unpatch:e,data:{message:t,res:a}}){var o,r,s,l,c,m,w,p,b,$,x,H;e();let ee="Translate",te=0;if(!(a!=null&&a.props))return console.log(`[${v.name} Local Error: Property "props" Does not Exist on "res"]`),a;const q=nt(a,k=>Array.isArray(k)&&k.find(I=>{var N;return typeof(I==null?void 0:I.key)=="string"&&typeof((N=I==null?void 0:I.props)==null?void 0:N.message)=="string"}));if(!q)return console.log(`[${v.name} Local Error: 'finalLocation' seems to be undefined!]`),a;y.forItem(Object.values(S.externalPlugins),k=>{y.findItem(q,I=>{if(I.key!==S.externalPlugins.dislate)return I.key===k},"external plugin list")&&te++},"looping through external plugin keys"),y.findItem(q,k=>{var I;return((I=k.props)==null?void 0:I.message)==="Reply"},"reply button")&&te++,y.findItem(q,k=>{var I;return((I=k.props)==null?void 0:I.message)==="Edit Message"},"edit message button")&&te++;const _=nn.getMessage((r=(o=t[0])==null?void 0:o.message)==null?void 0:r.channel_id,(l=(s=t[0])==null?void 0:s.message)==null?void 0:l.id);if(!(_!=null&&_.content)&&!((m=(c=t[0])==null?void 0:c.message)!=null&&m.content))return console.log(`[${v.name}] No message content.`),a;const ge=(b=_==null?void 0:_.id)!=null?b:(p=(w=t[0])==null?void 0:w.message)==null?void 0:p.id,ze=(H=_==null?void 0:_.content)!=null?H:(x=($=t[0])==null?void 0:$.message)==null?void 0:x.content,ue=y.findItem(me,k=>Object.keys(k)[0]===ge,"cache object");ee=ue?"Revert":"Translate";const Ye=n.createElement(h,{key:S.externalPlugins.dislate,label:ee,leading:n.createElement(en,{source:ee==="Translate"?u.Translate:u.Revert}),onPress:()=>{const k=f(v.name,"DislateLangFrom","detect"),I=f(v.name,"DislateLangTo","english"),N=ee==="Translate";ae.string(_.content,{fromLang:k,toLang:I},Se,!N).then(Ge=>{const He={type:"MESSAGE_UPDATE",message:{..._,content:`${N?Ge:ue[ge]} ${N?`\`[${K(v.name,"DislateLangAbbr",!1)?Se[I].toUpperCase():L.string(I)}]\``:""}`,guild_id:Qt.getChannel(_.channel_id).guild_id},log_edit:!1};Ee.dispatch(He),T.open({content:N?`Modified message to ${L.string(f(v.name,"DislateLangTo","english"))}.`:"Reverted message back to original state.",source:u.Translate}),N?me.unshift({[ge]:ze}):me=y.filterItem(me,qe=>qe!==ue,"cached data override")}),tn.hideActionSheet()}});y.insertItem(q,Ye,te,"insert translate button")},initializeActionSheet(){var e;let t=0;const a=3;try{t++;let o=K(v.name,"toastEnable",!1);for(const r of["MESSAGE_UPDATE"])try{Ee==null||Ee.dispatch({type:r,message:{}})}catch(s){console.error(`[${v.name} Local Error When Waking Up FluxDispatcher ${s}]`)}console.log(`[${v.name}] delayed start attempt ${t}/${a}.`),o&&((e=T)==null||e.open({content:`[${v.name}] start attempt ${t}/${a}.`,source:u.Debug}));try{const{Version:r}=M.InfoDictionaryManager;return parseInt(r.substring(0,3))>164?ce.after(an,"default",(s,l,c)=>{var m,w;const p=(w=(m=c==null?void 0:c.props)==null?void 0:m.children)==null?void 0:w.props;if((p==null?void 0:p.sheetKey)!=="MessageLongPressActionSheet")return;const b=ce.after(p==null?void 0:p.content,"type",($,x,H)=>{!x||!H||this.patchActionSheet({unpatch:b,data:{message:x,res:H}})})}):ce.after(on,"default",(s,l,c)=>{!l||!c||this.patchActionSheet({unpatch:()=>{},data:{message:l,res:c}})})}catch(r){console.error(`[${v.name}] Local ${r} At Intermediate Level`),o&&T.open({content:`[${v.name}] failed to open action sheet.`,source:u.Retry})}}catch(o){console.error(`[${v.name}] Local ${o} At Top Level`);let r=K(v.name,"toastEnable",!1);if(t<a){const s=`[${v.name}] failed to initialise. Trying again in ${t}0s.`;console.warn(s),r&&T.open({content:s,source:u.Retry}),setTimeout(this.initializeActionSheet(),t*1e4)}else{const s=`[${v.name}] failed to initialise. Giving up.`;console.error(s),r&&T.open({content:s,source:u.Failed})}}},onStart(){this.commands=[jt,zt],this.initializeActionSheet()},onStop(){ce.unpatchAll(),this.commands=[]},renderPage(e,{pageName:t,pagePanel:a}){var o;return(o=e==null?void 0:e.push)==null?void 0:o.call(e,"EnmityCustomPage",{pageName:t,pagePanel:a})},getSettingsPanel({settings:e}){return n.createElement(Zt,{settings:e,manifest:{name:v.name,version:v.version,plugin:v.plugin,authors:v.authors,release:v.release},renderPage:Ve.renderPage,languages:Se})}};Je(Ve);
