const{components:c}=window.enmity;c.Alert,c.Button;const at=c.FlatList,De=c.Image;c.ImageBackground,c.KeyboardAvoidingView,c.Modal,c.Pressable;const ot=c.RefreshControl,de=c.ScrollView;c.SectionList,c.StatusBar,c.StyleSheet,c.Switch;const R=c.Text;c.TextInput,c.TouchableHighlight;const P=c.TouchableOpacity;c.TouchableWithoutFeedback,c.Touchable;const E=c.View;c.VirtualizedList,c.Form,c.FormArrow,c.FormCTA,c.FormCTAButton,c.FormCardSection,c.FormCheckbox;const O=c.FormDivider;c.FormHint,c.FormIcon,c.FormInput,c.FormLabel,c.FormRadio;const y=c.FormRow;c.FormSection,c.FormSelect,c.FormSubLabel;const he=c.FormSwitch;c.FormTernaryCheckBox,c.FormText,c.FormTextColors,c.FormTextSizes;function st(e){window.enmity.plugins.registerPlugin(e)}const Q={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,t)=>window.enmity.modules.filters.byName(e,t),byTypeName:(e,t)=>window.enmity.modules.filters.byTypeName(e,t),byDisplayName:(e,t)=>window.enmity.modules.filters.byDisplayName(e,t)};function it(e,t){return window.enmity.modules.getModule(e,t)}function rt(...e){return window.enmity.modules.bulk(...e)}function I(...e){return window.enmity.modules.getByProps(...e)}function ye(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common;const m=window.enmity.modules.common.Constants,fe=window.enmity.modules.common.Clipboard;window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars;const Y=window.enmity.modules.common.Native,n=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher;const pe=window.enmity.modules.common.Storage,w=window.enmity.modules.common.Toasts,j=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings;const Le=window.enmity.modules.common.Users;window.enmity.modules.common.Navigation;const be=window.enmity.modules.common.NavigationNative;window.enmity.modules.common.NavigationStack;const Re=window.enmity.modules.common.Theme;window.enmity.modules.common.Linking;const N=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function lt(e){return window.enmity.patcher.create(e)}var r="Dislate",G="1.4.0",ct="Translates text into a desired language.",ke="stable",ut=[{name:"Acquite <3",id:"581573474296791211",profile:"https://github.com/acquitelol/"}],F={download:"https://raw.githubusercontent.com/acquitelol/dislate/main/dist/Dislate.js",repo:"https://github.com/acquitelol/dislate",build:"patch-2.2.8",hash:"ef440334"},mt="#ff91ff",v={name:r,version:G,description:ct,release:ke,authors:ut,plugin:F,color:mt};function B(e,t,a){window.enmity.settings.set(e,t,a)}function h(e,t,a){return window.enmity.settings.get(e,t,a)}function ee(e,t,a){return window.enmity.settings.getBoolean(e,t,a)}function xe(e,t,a){return window.enmity.utilities.findInReactTree(e,t,a)}const gt="https://translate.googleapis.com/translate_a/single",Ie={fetch:({from:e,to:t,text:a})=>`${gt}?client=gtx&sl=${e}&tl=${t}&dt=t&q=${encodeURIComponent(a)}`,parse:e=>e.json().then(t=>{if(t=t&&t[0]&&t[0][0]&&t[0].map(a=>a[0]).join(""),!t)throw new Error("Invalid Translation!");return t})};if(typeof fetch=="undefined")try{global.fetch=require("node-fetch")}catch{console.warn("Please make sure node-fetch is available")}async function dt(e,{fromLanguage:t,toLanguage:a}){const o=Ie.fetch({text:e,from:t,to:a});return await fetch(o).then(Ie.parse)}async function ht(e,{fromLanguage:t="detect",toLanguage:a="english"},o,s){return s?e:await dt(e,{fromLanguage:o[t],toLanguage:o[a]})}var te={string:ht};const{native:K}=window.enmity;function yt(){K.reload()}const _e=K.version;K.build;const ft=K.device;K.version;var H=(e,t,a,o,s)=>{try{return e(...t)}catch(i){console.warn(`[${a}] The following error happened when trying to ${o} ${s!=null?s:"unspecificied label"}: ${i}`);return}};async function Ae(){var e,t,a;const o=window.HermesInternal.getRuntimeProperties(),s=I("View","Text").Platform.constants,i=s.reactNativeVersion;return{Plugin:{Version:G,Build:F.hash,Channel:ke},Client:{Version:Y.InfoDictionaryManager.Version,Build:Y.InfoDictionaryManager.Build,Release:Y.InfoDictionaryManager.ReleaseChannel,Bundle:Y.InfoDictionaryManager.Identifier.split(".")[2]},React:{Version:n.version,Bytecode:o["Bytecode Version"],Hermes:o["OSS Release Version"],Native:`${(e=i.major)!=null?e:0}.${(t=i.minor)!=null?t:0}.${(a=i.patch)!=null?a:0}`},Native:{Version:Y.DCDDeviceManager.systemVersion,Device:ft,Manufacturer:Y.DCDDeviceManager.deviceManufacturer,Idiom:s.interfaceIdiom}}}async function pt(e,t){return await H(async function(){let a=[`**[${r}] Debug Information**
`];const o=await Ae();return Object.keys(e).forEach(s=>{Object.values(e[s]).some(i=>i)&&a.push(`[**${s}**]`),Object.keys(e[s]).forEach(i=>{e[s][i]&&o[s][i]&&a.push(`> **${i}**: ${o[s][i]}`)})}),a.join(`
`)},[e],r,"creating debug info at",t)}var U={fetchDebugArguments:Ae,debugInfo:pt};function p(e){return window.enmity.assets.getIDByName(e)}var g={Translate:p("img_nitro_star"),Revert:p("ic_highlight"),Debug:p("debug"),Retry:p("ic_message_retry"),Failed:p("Small"),Cancel:p("ic_megaphone_nsfw_16px"),Delete:p("ic_message_delete"),Copy:p("toast_copy_link"),Open:p("ic_leave_stage"),Clipboard:p("pending-alert"),Add:p("ic_add_perk_24px"),Clock:p("clock"),Settings:{Toasts:{Context:p("toast_image_saved"),Settings:p("ic_selection_checked_24px"),Failed:p("ic_close_circle_24px")},TranslateFrom:p("ic_raised_hand_list"),TranslateTo:p("ic_activity_24px"),Debug:p("ic_rulebook_16px"),Initial:p("coffee"),Update:p("discover"),Locale:p("ic_locale_24px"),Back:p("ios-back")}};const bt={messageSpoofer:"69",copyEmbed:"1337",invisChat:"420",cutMessage:"512",dislate:"1002",viewRaw:"-1"},wt=(e=.1)=>({shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:e,shadowRadius:4.65,elevation:8}),we=N.createThemedStyleSheet({container:{backgroundColor:m.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,flex:.5},card:{backgroundColor:m.ThemeColorMap.BACKGROUND_MOBILE_PRIMARY,color:m.ThemeColorMap.TEXT_NORMAL},header:{backgroundColor:m.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,shadowColor:"transparent",elevation:0},text:{color:m.ThemeColorMap.HEADER_PRIMARY,fontFamily:m.Fonts.PRIMARY_MEDIUM,fontSize:16},title:{color:"white",fontFamily:m.Fonts.PRIMARY_NORMAL}}),vt={cardStyle:we.card,headerStyle:we.header,headerTitleContainerStyle:{color:m.ThemeColorMap.HEADER_PRIMARY},headerTitleAlign:"center",safeAreaInsets:{top:0}},Et=(e,t)=>{w.open({content:t=="clipboard"?`Copied ${e} to clipboard.`:e,source:t=="clipboard"?g.Clipboard:g.Settings.Initial})},St=e=>H(()=>{if(parseInt(_e.substring(0,3))>164){const{RawColor:t}=I("SemanticColor");return t[e[Re.theme].raw]}return e[{dark:0,light:1,amoled:2}[Re.theme]]},[e],r,"getting a formatted color for both newest and older versions"),Tt=(e,t,a,o=186,s)=>H(()=>{var i;let l=(i=St(e))==null?void 0:i.replace("#","");const u=(D,_,X)=>parseInt(D.substring(_[0],_[1]),X),f=u(l,[0,2],16),d=u(l,[2,4],16),C=u(l,[4,6],16);return(f+d+C)/(255*3)>o?a:t},[e,t,a,o],r,"checking if color should be light or dark at",s);var b={externalPlugins:bt,shadow:wt,PageStyles:we,PageOptions:vt,displayToast:Et,filterColor:Tt};async function $t(e,t){await H(async function(){var a;e.type==="storage"?await pe.setItem(e.name,JSON.stringify(e.content)):B(r,e.name,e.content);const o=JSON.parse((a=h(r,"state_store",null))!=null?a:"[]");o.find(s=>s.name===e.name)||o.push(e),B(r,"state_store",JSON.stringify(o))},[e],r,"storing an item in plugin file or storage at",t)}var ne={item:$t};const Ct=(e,t)=>e.split(t?/(?=[A-Z])/:"_").map(a=>a[0].toUpperCase()+a.slice(1)).join(" ");var S={string:Ct};async function Dt(){await H(async function(){const e=`${F.download}?${Math.floor(Math.random()*1001)}.js`,t=await(await fetch(e)).text(),a=t.match(/\d+\.\d+\.\d+/g),o=t.match(/hash:"(.*?)"/);if(!a&&!o)return Rt(r,[G,F.build]);const s=a&&a[0],i=o&&o[1];return s&&s!=G?Me(e,s,"version"):i&&i!=F.hash?Me(e,i,"build"):Lt(r,[G,F.hash])},[F],r,"checking if latest version at","the async check for updates callback")}const Me=(e,t,a)=>{j.show({title:"Update found",body:`A newer ${a} is available for ${r}. ${a=="build"?`
The version will remain at ${G}, but the build will update to ${t}.`:""}
Would you like to install ${a} \`${t}\` now?`,confirmText:"Update",cancelText:"Not now",onConfirm:()=>kt(e,t,a)})},Lt=(e,[t,a])=>{console.log(`[${e}] Plugin is on the latest update, which is version ${t} and build ${a}`),j.show({title:"Already on latest",body:`${e} is already updated to the latest version.
Version: \`${t}\`
Build: \`${a}\``,confirmText:"Okay"})},Rt=(e,[t,a])=>{console.log(`[${e}] Plugin failed to update to the latest version and build, remaining at ${t} and ${a}`),j.show({title:"Failed",body:`${e} to find a new version or build.
The current versions will remain as follows:
Version: \`${t}\`
Build: \`${a}\``,confirmText:"Okay"})};async function kt(e,t,a){await H(async function(){window.enmity.plugins.installPlugin(e,({data:o})=>{o=="installed_plugin"||o=="overridden_plugin"?j.show({title:`Updated ${r}`,body:`Successfully updated to ${a} \`${t}\`. 
Would you like to reload Discord now?`,confirmText:"Reload",cancelText:"Not now",onConfirm:()=>yt()}):console.log(`[${r}] Plugin failed to update to ${a} ${t}.`)})},[e,t,a],r,"installing plugin because","new version available")}var xt={checkForUpdates:Dt},Pe;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.Guild=1]="Guild",e[e.DM=2]="DM"})(Pe||(Pe={}));var ae;(function(e){e[e.Chat=1]="Chat",e[e.User=2]="User",e[e.Message=3]="Message"})(ae||(ae={}));var oe;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.BuiltInText=1]="BuiltInText",e[e.BuiltInIntegration=2]="BuiltInIntegration",e[e.Bot=3]="Bot",e[e.Placeholder=4]="Placeholder"})(oe||(oe={}));var Ne;(function(e){e[e.Role=1]="Role",e[e.User=2]="User"})(Ne||(Ne={}));var W;(function(e){e[e.SubCommand=1]="SubCommand",e[e.SubCommandGroup=2]="SubCommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionnable=9]="Mentionnable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(W||(W={}));var Fe;(function(e){e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent"})(Fe||(Fe={}));var V=["detect","amharic","arabic","aymara","assamese","akan","azerbaijani","belarusian","bulgarian","bambara","bengali","corsican","czech","bosnian","danish","catalan","valencian","german","ewe","divehi","dhivehi","maldivian","english","greek","estonian","esperanto","basque","spanish","castilian","finnish","french","persian","irish","galician","guarani","western_frisian","gujarati","gaelic","scottish_gaelic","hausa","croatian","hebrew","hindi","haitian","haitian_creole","armenian","indonesian","hungarian","igbo","icelandic","italian","georgian","javanese","japanese","korean","kazakh","kannada","afrikaans","central_khmer","welsh","kurdish","kirghiz","kyrgyz","latin","luxembourgish","letzeburgesch","ganda","lao","latvian","lingala","lithuanian","malagasy","macedonian","malayalam","maori","marathi","norwegian_bokm\xE5l","mongolian","burmese","maltese","nepali","malay","dutch","flemish","chichewa","chewa","nyanja","norwegian","oromo","oriya","panjabi","punjabi","polish","quechua","pushto","pashto","russian","sanskrit","romanian","moldavian","moldovan","slovenian","kinyarwanda","slovak","sinhala","sinhalese","samoan","shona","somali","serbian","albanian","swahili","southern_sotho","swedish","sundanese","tamil","tajik","telugu","tagalog","turkmen","tigrinya","thai","tsonga","sindhi","portuguese","twi","turkish","tatar","urdu","ukrainian","uighur","uyghur","uzbek","vietnamese","yiddish","xhosa","chinese_traditional","chinese_simplified","zulu","yoruba"],J=["auto","am","ar","ay","as","ak","az","be","bg","bm","bn","co","cs","bs","da","ca","ca","de","ee","dv","dv","dv","en","el","et","eo","eu","es","es","fi","fr","fa","ga","gl","gn","fy","gu","gd","gd","ha","hr","he","hi","ht","ht","hy","id","hu","ig","is","it","ka","jv","ja","ko","kk","kn","af","km","cy","ku","ky","ky","la","lb","lb","lg","lo","lv","ln","lt","mg","mk","ml","mi","mr","nb","mn","my","mt","ne","ms","nl","nl","ny","ny","ny","no","om","or","pa","pa","pl","qu","ps","ps","ru","sa","ro","ro","ro","sl","rw","sk","si","si","sm","sn","so","sr","sq","sw","st","sv","su","ta","tg","te","tl","tk","ti","th","ts","sd","pt","tw","tr","tt","ur","uk","ug","ug","uz","vi","yi","xh","zh-tw","zh-cn","zu","yo"];const ve=N.createThemedStyleSheet({icon:{color:m.ThemeColorMap.INTERACTIVE_NORMAL},disabled:{color:m.ThemeColorMap.TEXT_MUTED},enabled:{color:m.ThemeColorMap.INTERACTIVE_NORMAL}});var It=({option:e,parent:t,debugOptions:a,onConfirm:o})=>{const[s,i]=n.useState(h(r,t,{})[e]);return n.useEffect(()=>{const l=h(r,t,{});l[e]||ne.item({name:t,content:{...l,[e]:!1},type:"setting",override:{}})},[]),n.createElement(y,{key:e,label:e,onPress:()=>{const l=h(r,t,{});ne.item({name:t,content:{...l,[e]:!l[e]},type:"setting",override:{}}),i(h(r,t,{})[e])},onLongPress:async function(){await o(await U.debugInfo({[t]:{[e]:!0}}),`${t} \u279D ${e}`)},leading:n.createElement(y.Icon,{style:ve.icon,source:s?g.Settings.Toasts.Settings:g.Settings.Toasts.Failed}),trailing:()=>n.createElement(R,{style:[{paddingTop:5,paddingBottom:5,paddingRight:10},s?ve.enabled:ve.disabled]},a[t][e])})};const Be={standard:{backgroundColor:"rgba(0, 0, 0, 0.5)",marginTop:20},floating:{position:"absolute",bottom:0,marginBottom:30,backgroundColor:"rgba(0, 0, 0, 0.8)"}},q=N.createThemedStyleSheet({button:{width:"90%",borderRadius:10,marginLeft:"5%",marginRight:"5%",...b.shadow()},text:{color:"#f2f2f2",textAlign:"left",letterSpacing:.25,padding:10},textHeader:{fontSize:20,fontFamily:m.Fonts.PRIMARY_BOLD},textContent:{fontSize:16,fontFamily:m.Fonts.PRIMARY_NORMAL},image:{width:25,height:25,borderRadius:4,position:"absolute",right:0,margin:10}}),Oe=window.enmity,Ee=Oe.modules.common.Components.General.Animated,_t=Oe.modules.common.Components.General.Easing;var je=({label:e,content:t,type:a})=>{const o=n.useRef(new Ee.Value(1)).current;async function s(){const l=()=>Ee.timing(o,{toValue:0,duration:250,useNativeDriver:!0,easing:_t.sin}).start();j.show({title:"Close Tip?",body:"You can either hide this information box forever, or just hide it until you open this page again.",confirmText:"Don't Show Again",cancelText:"Cancel",onConfirm:async function(){await ne.item({name:e,content:!0,type:"setting",override:!1},`storing dialog at ${e} in Dialog component`),l()}})}const i={transform:[{scale:o}]};return h(r,e,!1)?n.createElement(n.Fragment,null):n.createElement(Ee.View,{style:i},n.createElement(P,{style:[q.button,Be[a]||Be.standard],onPress:async function(){await s()}},n.createElement(E,{style:{width:"100%",flexDirection:"row"}},n.createElement(De,{style:q.image,source:{uri:Le.getCurrentUser().getAvatarURL()}})),n.createElement(R,{style:[q.text,q.textHeader]},e),n.createElement(R,{style:[q.text,q.textContent]},t)))};const Ue=N.createThemedStyleSheet({text:{color:m.ThemeColorMap.HEADER_SECONDARY,paddingLeft:"5.5%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:m.Fonts.PRIMARY_BOLD,fontSize:12}});var se=({label:e,children:t})=>n.createElement(E,{style:{marginTop:10}},n.createElement(R,{style:[Ue.text,Ue.optionText]},e.toUpperCase()),t);const $=N.createThemedStyleSheet({button:{width:"42.5%",height:50,justifyContent:"center",alignItems:"center",backgroundColor:m.ThemeColorMap.HEADER_PRIMARY,borderRadius:10,marginLeft:"5%",marginTop:20,marginBottom:5},buttonContainer:{flexDirection:"row"},text:{color:b.filterColor(m.ThemeColorMap.HEADER_PRIMARY,"#f2f2f2","#121212",.8,"buttons in debug info menu"),textAlign:"center",paddingLeft:10,paddingRight:10,letterSpacing:.25,fontFamily:m.Fonts.PRIMARY_BOLD},buttonText:{fontSize:16},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:m.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,...b.shadow()},pageContainer:{paddingTop:200,top:-200,paddingBottom:300,marginBottom:-450,backgroundColor:m.ThemeColorMap.BACKGROUND_MOBILE_PRIMARY},searchWrapper:{flexDirection:"row"},searchContainer:{borderRadius:11,width:"65%",overflow:"hidden",marginTop:15,marginLeft:"5%",marginRight:"5%"},search:{margin:0,padding:0,borderBottomWidth:0,background:"none",backgroundColor:"none"},title:{color:m.ThemeColorMap.HEADER_SECONDARY,fontFamily:m.Fonts.DISPLAY_BOLD,letterSpacing:.25,textAlign:"center"},titleContainer:{width:"20%",marginTop:15,backgroundColor:m.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,borderRadius:10,justifyContent:"center",alignItems:"center"}}),At=ye("StaticSearchBarContainer"),Mt=I("openLazy","hideActionSheet");var Pt=({onConfirm:e,type:t})=>{const[a,o]=n.useState([]),[s,i]=n.useState("");return n.useEffect(async function(){o(await U.fetchDebugArguments())},[]),n.createElement(de,{style:$.pageContainer},n.createElement(E,{style:[$.searchWrapper,{...b.shadow(.05)}]},n.createElement(E,{style:$.searchContainer},n.createElement(At,{placeholder:"Search...",style:$.search,inputStyle:$.search,onChangeText:l=>i(l),collapsable:!0,value:s})),n.createElement(P,{style:$.titleContainer,onPress:()=>{Object.keys(a).forEach(l=>{Object.keys(a[l]).forEach(u=>{ne.item({name:l,content:{...h(r,l),[u]:!1},type:"setting",override:{}})})}),Mt.hideActionSheet(),w.open({content:"Successfully cleared all debug options.",source:g.Delete})}},n.createElement(R,{style:$.title},"Clear All"))),n.createElement(E,{style:$.buttonContainer},n.createElement(P,{style:$.button,onPress:async function(){await e(await U.debugInfo(await U.fetchDebugArguments()),"full debug log")}},n.createElement(R,{style:[$.text,$.buttonText]},S.string(t!=null?t:"send")," All")),n.createElement(P,{style:$.button,onPress:async function(){const l=Object.keys(a).map(u=>{var f;return{[u]:(f=h(r,u,{}))!=null?f:{}}}).reduce((u,f)=>({...u,...f}),{});await e(await U.debugInfo(l),"partial debug log")}},n.createElement(R,{style:[$.text,$.buttonText]},S.string(t!=null?t:"send")," Message"))),Object.keys(a).map(l=>n.createElement(se,{label:l},n.createElement(E,{style:$.container},Object.keys(a[l]).filter(u=>s?u.toLowerCase().includes(s):u).map((u,f,d)=>n.createElement(n.Fragment,null,n.createElement(It,{option:u,parent:l,debugOptions:a,onConfirm:e}),f!==d.length-1?n.createElement(O,null):null))))),n.createElement(je,{label:"Information",content:`You can either tap on each item to toggle it and press "${S.string(t!=null?t:"send")} Message", or you can long-press on an item to only send that item.

To close this dialog, press on it.`,type:"standard"}))},Ve;const ze=((Ve=it(e=>{var t,a;return((a=(t=e.default)==null?void 0:t.render)==null?void 0:a.name)==="ActionSheet"}))!=null?Ve:{default:{render:!1}}).default.render,Nt=I("BottomSheetScrollView").BottomSheetScrollView,Ft=I("openLazy","hideActionSheet");function Ye({onConfirm:e,type:t}){ze?Ft.openLazy(new Promise(a=>a({default:Bt})),"DebugInfoActionSheet",{onConfirm:e,type:t}):w.open({content:"You cannot open ActionSheets on this version! Upgrade to 163+",source:g.Failed})}function Bt({onConfirm:e,type:t}){return n.createElement(ze,{scrollable:!0},n.createElement(Nt,{contentContainerStyle:{marginBottom:50}},n.createElement(Pt,{onConfirm:e,type:t})))}var Ge,He,qe;const Ot=I("openLazy","hideActionSheet"),Ke=e=>({async debug(){return await new Promise(t=>{Ye({onConfirm:(a,o)=>{Ot.hideActionSheet(),w.open({content:`Sent ${o} in #${e}`,source:g.Settings.Toasts.Settings}),t({content:a})},type:"send"})})},async example(){const t="Example Message. Enmity is a state or feeling of active opposition or hostility.",a=Math.floor(Math.random()*V.length),o=V[a],s=await te.string(t,{fromLanguage:"detect",toLanguage:o},Object.assign({},...V.map((i,l)=>({[i]:J[l]}))));return await new Promise(i=>{j.show({title:"Are you sure?",body:`**This is a testing message.**
You are about to send the following:

**English:** ${t}

**${S.string(o)}:** ${s}

Are you sure you want to send this? :3`,confirmText:"Yep, send it!",cancelText:"Nope, don't send it",onConfirm:()=>{w.open({content:`Sent test message in #${e}.`,source:g.Translate}),i({content:`**[${r}] Test Message**

**English:** ${t}
**${S.string(o)}:** ${s}`})},onCancel:()=>{w.open({content:"Cancelled translated message request.",source:g.Cancel}),i({})}})})},async clearStores(){var t,a;const o=(t=JSON.parse(h(r,"state_store",null)))!=null?t:[];for(let s=0;s<o.length;s++){const i=o[s];i.type==="storage"?await pe.removeItem(i.name):B(r,i.name,(a=i.override)!=null?a:!1)}B(r,"state_store",null),w.open({content:`Cleared all ${r} stores.`,source:g.Settings.Toasts.Settings})},async download(){return await new Promise(t=>{fe.setString(`${F.download}?${Math.floor(Math.random()*1001)}.js`),b.displayToast("download link","clipboard"),t({})})}}),jt=Object.keys(Ke("placeholder")).map(e=>({name:S.string(e,!0),displayName:S.string(e,!0),value:e}));var Ut={id:`${(Ge=r)==null?void 0:Ge.toLowerCase()}`,name:`${(He=r)==null?void 0:He.toLowerCase()}`,displayName:`${(qe=r)==null?void 0:qe.toLowerCase()}`,description:`Choose from a list of options for debugging in ${r}.`,displayDescription:`Choose from a list of options for debugging in ${r}.`,type:ae.Chat,inputType:oe.BuiltInText,options:[{name:"type",displayName:"type",description:"The type of command to execute.",displayDescription:"The type of command to execute.",type:W.String,choices:[...jt],required:!0}],async execute(e,t){var a;const o=e.find(l=>l.name==="type").value,s=Ke(t.channel.name),i=()=>{w.open({content:"Invalid command argument.",source:g.Clock})};return await((a=s[o])!=null?a:i)()}};function Vt(e,t,a,o){window.enmity.clyde.sendReply(e,t,a,o)}const zt=V.filter(e=>e!=="detect").map(e=>({name:S.string(e),displayName:S.string(e),value:e}));var Yt={id:"translate",name:"translate",displayName:"translate",description:`Send a message using ${r} in any language chosen, using the Google Translate API.`,displayDescription:`Send a message using ${r} in any language chosen, using the Google Translate API.`,type:ae.Chat,inputType:oe.BuiltInText,options:[{name:"text",displayName:"text",description:`The text/message for ${r} to translate. Please note some formatting of mentions and emojis may break due to the API.`,displayDescription:`The text/message for ${r} to translate. Please note some formatting of mentions and emojis may break due to the API.`,type:W.String,required:!0},{name:"language",displayName:"language",description:`The language that ${r} will translate the text into. This can be any language from the list, except "Detect".`,displayDescription:`The language that ${r} will translate the text into. This can be any language from the list, except "Detect".`,type:W.String,choices:[...zt],required:!0}],async execute(e,t){const a=e.find(u=>u.name==="text").value,o=e.find(u=>u.name==="language").value,s=Object.assign({},...V.map((u,f)=>({[u]:J[f]}))),i=await te.string(a,{fromLanguage:h(r,"DislateLangFrom","detect"),toLanguage:o},s),l=await te.string(i,{fromLanguage:h(r,"DislateLangFrom","detect"),toLanguage:h(r,"DislateLangTo","english")},s);return!i||!l?(Vt(t.channel.id,`Failed to send message in #${t.channel.name}`),{}):await new Promise(u=>{j.show({title:"Are you sure?",body:`The message **about to be sent** is:
\`${i}\`

In **${S.string(h(r,"DislateLangTo","english"))}**, this will translate to:
\`${l}\`

${h(r,"DislateBothLangToggle",!1)?`**Note: Sending original and translated**
`:""}Are you sure you want to send this? :3`,confirmText:"Yep, send it!",cancelText:"Nope, don't send it",onConfirm:()=>{w.open({content:`Sent message in #${t.channel.name}, which was translated into ${S.string(o)}.`,source:g.Translate}),u({content:h(r,"DislateBothLangToggle",!1)?`${a}

${i}`:i})},onCancel:()=>{w.open({content:"Cancelled translated message request.",source:g.Cancel}),u({})}})})}},Gt=["auto","amh","ara","aym","asm","aka","aze","bel","bul","bam","ben","cos","cze","bos","dan","cat","cat","ger","ewe","div","div","div","eng","gre","est","epo","baq","spa","spa","fin","fre","per","gle","glg","grn","fry","guj","gla","gla","hau","hrv","heb","hin","hat","hat","arm","ind","hun","ibo","ice","ita","geo","jav","jpn","kor","kaz","kan","afr","khm","wel","kur","kir","kir","lat","ltz","ltz","lug","lao","lav","lin","lit","mlg","mac","mal","mao","mar","nob","mon","bur","mlt","nep","may","dut","dut","nya","nya","nya","nor","orm","ori","pan","pan","pol","que","pus","pus","rus","san","rum","rum","rum","slv","kin","slo","sin","sin","smo","sna","som","srp","alb","swa","sot","swe","sun","tam","tgk","tel","tgl","tuk","tir","tha","tso","snd","por","twi","tur","tat","urd","ukr","uig","uig","uzb","vie","yid","xho","chit","chis","zul","yor"];const Ht=N.createThemedStyleSheet({container:{width:"95%",marginLeft:"2.5%",borderRadius:10,marginTop:15,backgroundColor:m.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY}}),ie=window.enmity.modules.common.Components.General.Animated;var qt=({language:e,languages:t,selected:a,setSelected:o})=>{const s=be.useNavigation(),i=Object.assign({},...J.map((D,_)=>({[D]:Gt[_]}))),l=n.useRef(new ie.Value(1)).current,u=()=>ie.spring(l,{toValue:1.05,duration:250,useNativeDriver:!0}).start(),f=()=>ie.spring(l,{toValue:1,duration:250,useNativeDriver:!0}).start(),d={transform:[{scale:l}]},C=D=>{var _;B(r,`DislateLang${h(r,"DislateLangFilter")?"To":"From"}`,D),w.open({content:`Set ${t[D].toUpperCase()} as Language to Translate ${h(r,"DislateLangFilter")?"to":"from"}.`,source:h(r,"DislateLangFilter")?g.Settings.TranslateTo:g.Settings.TranslateFrom}),o(h(r,`DislateLang${h(r,"DislateLangFilter")?"To":"From"}`)),(_=s==null?void 0:s.pop)==null||_.call(s)};return n.createElement(n.Fragment,null,n.createElement(P,{onPress:()=>C(e),onLongPress:()=>C(e),onPressIn:u,onPressOut:f},n.createElement(ie.View,{style:[d,Ht.container]},n.createElement(y,{label:S.string(e),subLabel:`Aliases: ${t[e]}, ${i[t[e]]}`,trailing:()=>n.createElement(y.Arrow,null),leading:n.createElement(y.Icon,{style:{color:m.ThemeColorMap.INTERACTIVE_NORMAL},source:a===e?g.Settings.Toasts.Settings:g.Add})}))))};const Kt=ye("StaticSearchBarContainer");var Wt=({languages:e})=>{const[t,a]=n.useState([]),[o,s]=n.useState(e),[i,l]=n.useState(!1),[u,f]=n.useState(h(r,`DislateLang${h(r,"DislateLangFilter")?"To":"From"}`));return be.useNavigation(),n.createElement(E,{style:{marginBottom:50}},n.createElement(Kt,{placeholder:"Search Language",onChangeText:d=>a(d)}),n.createElement(de,{refreshControl:n.createElement(ot,{refreshing:i,onRefresh:async function(){l(!0),s(Object.assign({},...V.map((d,C)=>({[d]:J[C]})))),l(!1)}})},n.createElement(E,{style:{paddingBottom:30}},n.createElement(at,{data:Object.keys(o).filter(d=>d.toLowerCase().includes(t)),renderItem:({item:d})=>h(r,"DislateLangFilter")&&d=="detect"?n.createElement(n.Fragment,null):n.createElement(qt,{language:d,languages:o,selected:u,setSelected:f}),keyExtractor:d=>d}))),n.createElement(je,{label:"Important",content:`You can either press or long-press on an item to select it as the language to translate ${h(r,"DislateLangFilter")?"to":"from"}. Your current selected language has a \u2713 next to it.

To hide this dialog, press on it.`,type:"floating"}))};const k=N.createThemedStyleSheet({container:{marginTop:25,marginLeft:"5%",marginBottom:-15,flexDirection:"row"},textContainer:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap",...b.shadow()},image:{width:75,height:75,borderRadius:10,...b.shadow()},mainText:{opacity:.975,letterSpacing:.25},header:{color:m.ThemeColorMap.HEADER_PRIMARY,fontFamily:m.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},subHeader:{color:m.ThemeColorMap.HEADER_SECONDARY,fontSize:12.75}}),re=window.enmity.modules.common.Components.General.Animated,Se=I("transitionToGuild","openURL");var Jt=({manifest:{name:e,version:t,plugin:a,authors:o}})=>{const s=n.useRef(new re.Value(1)).current,i=()=>re.spring(s,{toValue:1.1,duration:10,useNativeDriver:!0}).start(),l=()=>re.spring(s,{toValue:1,duration:250,useNativeDriver:!0}).start(),u=()=>Se.openURL(a.repo),f={transform:[{scale:s}]};return n.createElement(E,{style:k.container},n.createElement(P,{onPress:u,onPressIn:i,onPressOut:l},n.createElement(re.View,{style:f},n.createElement(De,{style:[k.image],source:{uri:Le.getCurrentUser().getAvatarURL()}}))),n.createElement(E,{style:k.textContainer},n.createElement(P,{onPress:()=>Se.openURL(a.repo)},n.createElement(R,{style:[k.mainText,k.header]},e)),n.createElement(E,{style:{flexDirection:"row"}},n.createElement(R,{style:[k.mainText,k.subHeader]},"A project by"),o.map((d,C,D)=>n.createElement(P,{onPress:()=>Se.openURL(d.profile)},n.createElement(R,{style:[k.mainText,k.subHeader,{paddingLeft:4,fontFamily:m.Fonts.DISPLAY_BOLD,flexDirection:"row"}]},d.name,C<D.length-1?",":null)))),n.createElement(E,null,n.createElement(P,{style:{flexDirection:"row"},onPress:async function(){const d=await U.fetchDebugArguments();fe.setString(await U.debugInfo(d)),b.displayToast("debug information","clipboard")}},n.createElement(R,{style:[k.mainText,k.subHeader]},"Version:"),n.createElement(R,{style:[k.mainText,k.subHeader,{paddingLeft:4,fontFamily:m.Fonts.DISPLAY_BOLD}]},t)))))};const x=N.createThemedStyleSheet({icon:{tintColor:m.ThemeColorMap.INTERACTIVE_NORMAL},item:{color:m.ThemeColorMap.TEXT_MUTED,fontFamily:m.Fonts.PRIMARY_MEDIUM},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:m.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,...b.shadow()},subheaderText:{color:m.ThemeColorMap.HEADER_SECONDARY,textAlign:"center",margin:10,marginBottom:50,letterSpacing:.25,fontFamily:m.Fonts.PRIMARY_BOLD,fontSize:14}});function We({manifest:e,renderPage:t,Navigation:a,languages:o,kind:s}){return n.createElement(y,{label:`Translate ${S.string(s)}`,leading:n.createElement(y.Icon,{style:x.icon,source:g.Settings.TranslateFrom}),trailing:()=>{var i;return n.createElement(E,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.createElement(R,{adjustsFontSizeToFit:!0,style:x.item},(i=S.string(h(e.name,`DislateLang${S.string(s)}`,"detect")))!=null?i:"N/A"),n.createElement(y.Arrow,null))},onPress:()=>{B(e.name,"DislateLangFilter",s==="to"),t(a,{pageName:`Translate ${ee(e.name,"DislateLangFilter",!0)?"To":"From"}`,pagePanel:()=>n.createElement(Wt,{languages:o})})},onLongPress:()=>b.displayToast('Open a new page allowing you to choose a language that you can translate from. The default is "Detect".',"tooltip")})}const Xt=I("transitionToGuild","openURL"),Zt=I("openLazy","hideActionSheet");var Qt=({settings:e,manifest:t,languages:a,renderPage:o})=>{const s=be.useNavigation();return n.createElement(de,null,n.createElement(Jt,{manifest:t}),n.createElement(E,{style:{marginTop:20}},n.createElement(se,{label:"Language"},n.createElement(E,{style:x.container},n.createElement(We,{manifest:t,renderPage:o,Navigation:s,languages:a,kind:"to"}),n.createElement(O,null),n.createElement(We,{manifest:t,renderPage:o,Navigation:s,languages:a,kind:"from"}),n.createElement(O,null),n.createElement(y,{label:"Abbreviate Language",leading:n.createElement(y.Icon,{style:x.icon,source:g.Retry}),subLabel:"Label language in a shorter form when translating (English \u279D EN).",onLongPress:()=>b.displayToast("Convert the full language name to an abbreviation when translating someone else's message. (test [English] \u279D test [EN])","tooltip"),trailing:()=>n.createElement(he,{value:e.getBoolean("DislateLangAbbr",!1),onValueChange:()=>{e.toggle("DislateLangAbbr",!1),w.open({content:`Successfully ${e.getBoolean("DislateLangAbbr",!1)?"enabled":"disabled"} language abbreviations.`,source:g.Settings.Toasts.Settings})}})}),n.createElement(O,null),n.createElement(y,{label:"Send Original",leading:n.createElement(y.Icon,{style:x.icon,source:g.Settings.Locale}),subLabel:"Send both the Original and Translated message when using /translate.",onLongPress:()=>b.displayToast("When using the /translate command, send both the original message and the translated message at once.","tooltip"),trailing:()=>n.createElement(he,{value:e.getBoolean("DislateBothLangToggle",!1),onValueChange:()=>{e.toggle("DislateBothLangToggle",!1),w.open({content:`Now sending ${e.getBoolean("DislateBothLangToggle",!1)?"original and translated":"only translated"} message.`,source:g.Settings.Toasts.Settings})}})}))),n.createElement(se,{label:"Utility"},n.createElement(E,{style:x.container},n.createElement(y,{label:"Initialisation Toasts",leading:n.createElement(y.Icon,{style:x.icon,source:g.Settings.Initial}),subLabel:`Toggle initialisation toasts to display loading state of ${t.name}.`,onLongPress:()=>b.displayToast(`When Enmity is first started, show toasts based on ${t.name}'s current state (starting, failed, retrying, etc)`,"tooltip"),trailing:()=>n.createElement(he,{value:e.getBoolean("toastEnable",!1),onValueChange:()=>{e.toggle("toastEnable",!1),w.open({content:`Successfully ${e.getBoolean("toastEnable",!1)?"enabled":"disabled"} Load Toasts.`,source:g.Settings.Toasts.Settings})}})}),n.createElement(O,null),n.createElement(y,{label:"Open Debug Info",subLabel:`Open useful page to copy debug information like version and build of ${t.name} to clipboard.`,onLongPress:()=>b.displayToast(`Copy the full debug log to clipboard including ${t.name}'s Version, Build, and Release, Enmity's Version and Build, etc.`,"tooltip"),leading:n.createElement(y.Icon,{style:x.icon,source:g.Copy}),trailing:()=>n.createElement(y.Arrow,null),onPress:()=>{Ye({onConfirm:(i,l)=>{Zt.hideActionSheet(),fe.setString(i),b.displayToast(`${l}`,"clipboard")},type:"copy"})}}),n.createElement(O,null),n.createElement(y,{label:"Clear Stores",subLabel:`Void most of the settings and stores used throughout ${t.name} to store data locally.`,onLongPress:()=>b.displayToast(`Clear stores and settings throughout ${t.name} including the settings to hide popups forever and the list of device codes.`,"tooltip"),leading:n.createElement(y.Icon,{style:x.icon,source:g.Delete}),trailing:()=>n.createElement(y.Arrow,null),onPress:async function(){var i,l;const u=(i=JSON.parse(h(t.name,"state_store",null)))!=null?i:[];for(let f=0;f<u.length;f++){const d=u[f];d.type==="storage"?await pe.removeItem(d.name):B(t.name,d.name,(l=d.override)!=null?l:!1)}B(t.name,"state_store",null),w.open({content:`Cleared all ${t.name} stores.`,source:g.Settings.Toasts.Settings})}}))),n.createElement(se,{label:"Source"},n.createElement(E,{style:x.container},n.createElement(y,{label:"Check for Updates",subLabel:`Search for any ${t.name} updates and notify you if an update is available.`,onLongPress:()=>b.displayToast(`Search GitHub for any new version or build of ${t.name} and prompts you to update, and then prompts you to restart Enmity afterwards.`,"tooltip"),leading:n.createElement(y.Icon,{style:x.icon,source:g.Settings.Update}),trailing:()=>n.createElement(y.Arrow,null),onPress:async function(){await xt.checkForUpdates()}}),n.createElement(O,null),n.createElement(y,{label:"Source",subLabel:`Open the repository of ${t.name} externally.`,onLongPress:()=>b.displayToast(`Opens the repository of ${t.name} on GitHub in an external page to view any source code of the plugin.`,"tooltip"),leading:n.createElement(y.Icon,{style:x.icon,source:g.Open}),trailing:()=>n.createElement(y.Arrow,null),onPress:()=>{Xt.openURL(t.plugin.repo)}})))),n.createElement(R,{style:x.subheaderText},`Build: (${t.plugin.hash}) Release: (${t.release})`))};const[en,tn,nn,Je]=rt(Q.byProps("getChannel","getDMFromUserId"),Q.byName("Icon"),Q.byProps("openLazy","hideActionSheet"),Q.byProps("Messages")),an=I("getMessage","getMessages"),Te=I("_currentDispatchActionType","_subscriptions","_actionHandlers","_waitQueue"),on=ye("ActionSheet",{default:!1}),sn=I("EmojiRow"),le=lt(v.name),$e=Object.assign({},...V.map((e,t)=>({[e]:J[t]})));let ce=[{invalid_id:"rosie sucks"}];const Xe={...v,commands:[],patchActionSheet({unpatch:e,data:{message:t,res:a}}){var o,s,i,l,u,f,d,C,D,_,X,Ce;e();let Z="Translate",ue=0;if(!(a!=null&&a.props))return console.log(`[${v.name} Local Error: Property "props" Does not Exist on "res"]`),a;const z=xe(a,A=>Array.isArray(A)&&A.find(T=>{var L;return typeof(T==null?void 0:T.key)=="string"&&typeof((L=T==null?void 0:T.props)==null?void 0:L.message)=="string"}));if(console.log(z),!z)return console.log(`[${v.name} Local Error: 'finalLocation' seems to be undefined!]`),a;Object.values(b.externalPlugins).forEach(A=>{z.find(T=>{if(T.key!==b.externalPlugins.dislate)return T.key===A})&&ue++});for(const A of[z.find(T=>{var L;return((L=T.props)==null?void 0:L.message)===Je.Messages.MESSAGE_ACTION_REPLY}),z.find(T=>{var L;return((L=T.props)==null?void 0:L.message)===Je.Messages.EDIT_MESSAGE})])A&&ue++;const M=an.getMessage((s=(o=t[0])==null?void 0:o.message)==null?void 0:s.channel_id,(l=(i=t[0])==null?void 0:i.message)==null?void 0:l.id);if(!(M!=null&&M.content)&&!((f=(u=t[0])==null?void 0:u.message)!=null&&f.content))return console.log(`[${v.name}] No message content.`),a;const me=(D=M==null?void 0:M.id)!=null?D:(C=(d=t[0])==null?void 0:d.message)==null?void 0:C.id,Ze=(Ce=M==null?void 0:M.content)!=null?Ce:(X=(_=t[0])==null?void 0:_.message)==null?void 0:X.content,ge=ce.find(A=>Object.keys(A)[0]===me,"cache object");Z=ge?"Revert":"Translate";const Qe=n.createElement(y,{key:b.externalPlugins.dislate,label:Z,leading:n.createElement(tn,{source:Z==="Translate"?g.Translate:g.Revert}),onPress:()=>{const A=h(v.name,"DislateLangFrom","detect"),T=h(v.name,"DislateLangTo","english"),L=Z==="Translate";te.string(M.content,{fromLanguage:A,toLanguage:T},$e,!L).then(et=>{const tt={type:"MESSAGE_UPDATE",message:{...M,content:`${L?et:ge[me]} ${L?`\`[${ee(v.name,"DislateLangAbbr",!1)?$e[T].toUpperCase():S.string(T)}]\``:""}`,guild_id:en.getChannel(M.channel_id).guild_id},log_edit:!1};Te.dispatch(tt),w.open({content:L?`Modified message to ${S.string(h(v.name,"DislateLangTo","english"))}.`:"Reverted message back to original state.",source:g.Translate}),L?ce.unshift({[me]:Ze}):ce=ce.filter(nt=>nt!==ge,"cached data override")}),nn.hideActionSheet()}});z.splice(ue,0,Qe)},onStart(){var e;this.commands=[Ut,Yt];let t=0;const a=3;try{t++;let o=ee(v.name,"toastEnable",!1);try{Te==null||Te.dispatch({type:"MESSAGE_UPDATE",message:{}})}catch(s){console.error(`[${v.name} Local Error When Waking Up FluxDispatcher ${s}]`)}console.log(`[${v.name}] delayed start attempt ${t}/${a}.`),o&&((e=w)==null||e.open({content:`[${v.name}] start attempt ${t}/${a}.`,source:g.Debug}));try{parseInt(_e.substring(0,3))>164?le.after(on,"default",(s,i,l)=>{const u=xe(l,d=>d.sheetKey);if((u==null?void 0:u.sheetKey)!=="MessageLongPressActionSheet")return;const f=le.after(u==null?void 0:u.content,"type",(d,C,D)=>{!C||!D||this.patchActionSheet({unpatch:f,data:{message:C,res:D}})})}):le.after(sn,"default",(s,i,l)=>{!i||!l||this.patchActionSheet({unpatch:()=>{},data:{message:i,res:l}})})}catch(s){console.error(`[${v.name}] Local ${s} At Intermediate Level`),o&&w.open({content:`[${v.name}] failed to open action sheet.`,source:g.Retry})}}catch(o){console.error(`[${v.name}] Local ${o} At Top Level`);let s=ee(v.name,"toastEnable",!1);if(t<a){const i=`[${v.name}] failed to initialise. Trying again in ${t}0s.`;console.warn(i),s&&w.open({content:i,source:g.Retry}),setTimeout(this.initializeActionSheet(),t*1e4)}else{const i=`[${v.name}] failed to initialise. Giving up.`;console.error(i),s&&w.open({content:i,source:g.Failed})}}},onStop(){le.unpatchAll(),this.commands=[]},renderPage(e,{pageName:t,pagePanel:a}){var o;return(o=e==null?void 0:e.push)==null?void 0:o.call(e,"EnmityCustomPage",{pageName:t,pagePanel:a})},getSettingsPanel({settings:e}){return n.createElement(Qt,{settings:e,manifest:v,renderPage:Xe.renderPage,languages:$e})}};st(Xe);
