const{components:i}=window.enmity;i.Alert;const $e=i.Button;i.FlatList,i.Image,i.ImageBackground,i.KeyboardAvoidingView,i.Modal,i.Pressable,i.RefreshControl;const se=i.ScrollView;i.SectionList,i.StatusBar,i.StyleSheet,i.Switch;const re=i.Text;i.TextInput,i.TouchableHighlight,i.TouchableOpacity,i.TouchableWithoutFeedback,i.Touchable;const ze=i.View;i.VirtualizedList,i.Form,i.FormArrow,i.FormCTA,i.FormCTAButton,i.FormCardSection,i.FormCheckbox;const $=i.FormDivider;i.FormHint,i.FormIcon,i.FormInput,i.FormLabel,i.FormRadio;const c=i.FormRow,U=i.FormSection;i.FormSelect,i.FormSubLabel;const je=i.FormSwitch;i.FormTernaryCheckBox,i.FormText,i.FormTextColors,i.FormTextSizes;function Me(e){window.enmity.plugins.registerPlugin(e)}function r(e){return window.enmity.assets.getIDByName(e)}const _={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,a)=>window.enmity.modules.filters.byName(e,a),byTypeName:(e,a)=>window.enmity.modules.filters.byTypeName(e,a),byDisplayName:(e,a)=>window.enmity.modules.filters.byDisplayName(e,a)};function q(...e){return window.enmity.modules.bulk(...e)}function le(...e){return window.enmity.modules.getByProps(...e)}function Fe(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common;const ce=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets;const ue=window.enmity.modules.common.Messages;window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const o=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const m=window.enmity.modules.common.Toasts,Re=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users;const p=window.enmity.modules.common.Navigation,Ie=window.enmity.modules.common.NavigationNative,me=window.enmity.modules.common.NavigationStack;window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const de=window.enmity.modules.common.StyleSheet,Be=window.enmity.modules.common.ColorMap;window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function Pe(e){return window.enmity.patcher.create(e)}var v="Dislate",z="1.1.0",Ce="Translates text into a desired language.",j="development",Ue=[{name:"acquite",id:"581573474296791211"}],L=[{download:"https://raw.githubusercontent.com/acquitelol/dislate/main/dist/Dislate.js",repo:"https://github.com/acquitelol/dislate"}],qe="#ff1f84",Ge={name:v,version:z,description:Ce,release:j,authors:Ue,plugin:L,color:qe};const ge=me.createStackNavigator(),{ThemeColorMap:E}=Be;var he=({name:e="Page",component:a=ze}={})=>{const t=de.createThemedStyleSheet({container:{backgroundColor:E.BACKGROUND_MOBILE_SECONDARY,flex:1},cardStyle:{backgroundColor:E.BACKGROUND_MOBILE_PRIMARY,color:E.TEXT_NORMAL},header:{backgroundColor:E.BACKGROUND_MOBILE_SECONDARY,shadowColor:"transparent",elevation:0},headerTitleContainer:{color:E.HEADER_PRIMARY},close:{color:E.HEADER_PRIMARY}});return o.createElement(Ie.NavigationContainer,null,o.createElement(ge.Navigator,{initialRouteName:e,style:t.container,screenOptions:{cardOverlayEnabled:!1,cardShadowEnabled:!1,cardStyle:t.cardStyle,headerStyle:t.header,headerTitleContainerStyle:t.headerTitleContainer,headerTitleAlign:"center",safeAreaInsets:{top:0}}},o.createElement(ge.Screen,{name:e,component:a,options:{headerTitleStyle:{color:"white"},headerLeft:()=>o.createElement($e,{color:t.close.color,title:"Close",onPress:()=>{p.pop()}}),...me.TransitionPresets.ModalSlideFromBottomIOS}})))},k={detect:"auto",afar:"aa",abkhazian:"ab",afrikaans:"af",akan:"ak",albanian:"sq",amharic:"am",arabic:"ar",aragonese:"an",armenian:"hy",assamese:"as",avaric:"av",avestan:"ae",aymara:"ay",azerbaijani:"az",bashkir:"ba",bambara:"bm",basque:"eu",belarusian:"be",bengali:"bn","bihari languages":"bh",bislama:"bi",tibetan:"bo",bosnian:"bs",breton:"br",bulgarian:"bg",burmese:"my",catalan:"ca",valencian:"ca",czech:"cs",chamorro:"ch",chechen:"ce",chinese_simplified:"zh-cn",chinese_traditional:"zh-tw",church_slavic:"cu",old_slavonic:"cu",church_slavonic:"cu",old_bulgarian:"cu",old_church_slavonic:"cu",chuvash:"cv",cornish:"kw",corsican:"co",cree:"cr",welsh:"cy",danish:"da",german:"de",divehi:"dv",dhivehi:"dv",maldivian:"dv",dutch:"nl",flemish:"nl",dzongkha:"dz",greek:"el",english:"en",esperanto:"eo",estonian:"et",ewe:"ee",faroese:"fo",persian:"fa",fijian:"fj",finnish:"fi",french:"fr",western_frisian:"fy",fulah:"ff",georgian:"ka",gaelic:"gd",scottish_gaelic:"gd",irish:"ga",galician:"gl",manx:"gv",guarani:"gn",gujarati:"gu",haitian:"ht",haitian_creole:"ht",hausa:"ha",hebrew:"he",herero:"hz",hindi:"hi",hiri_motu:"ho",croatian:"hr",hungarian:"hu",igbo:"ig",icelandic:"is",ido:"io",sichuan_yi:"ii",nuosu:"ii",inuktitut:"iu",interlingue:"ie",occidental:"ie",interlingua:"ia",indonesian:"id",inupiaq:"ik",italian:"it",javanese:"jv",japanese:"ja",kalaallisut:"kl",greenlandic:"kl",kannada:"kn",kashmiri:"ks",kanuri:"kr",kazakh:"kk",central_khmer:"km",kikuyu:"ki",gikuyu:"ki",kinyarwanda:"rw",kirghiz:"ky",kyrgyz:"ky",komi:"kv",kongo:"kg",korean:"ko",kuanyama:"kj",kwanyama:"kj",kurdish:"ku",lao:"lo",latin:"la",latvian:"lv",limburgan:"li",limburger:"li",limburgish:"li",lingala:"ln",lithuanian:"lt",luxembourgish:"lb",letzeburgesch:"lb","luba-katanga":"lu",ganda:"lg",macedonian:"mk",marshallese:"mh",malayalam:"ml",maori:"mi",marathi:"mr",malay:"ms",malagasy:"mg",maltese:"mt",mongolian:"mn",nauru:"na",navajo:"nv",navaho:"nv",south_ndebele:"nr",north_ndebele:"nd",ndonga:"ng",nepali:"ne",norwegian_nynorsk:"nn",norwegian_bokm\u00E5l:"nb",norwegian:"no",chichewa:"ny",chewa:"ny",nyanja:"ny",occitan:"oc",ojibwa:"oj",oriya:"or",oromo:"om",ossetian:"os",ossetic:"os",panjabi:"pa",punjabi:"pa",pali:"pi",polish:"pl",portuguese:"pt",pushto:"ps",pashto:"ps",quechua:"qu",romansh:"rm",romanian:"ro",moldavian:"ro",moldovan:"ro",rundi:"rn",russian:"ru",sango:"sg",sanskrit:"sa",sinhala:"si",sinhalese:"si",slovak:"sk",slovenian:"sl",northern_sami:"se",samoan:"sm",shona:"sn",sindhi:"sd",somali:"so","sotho, Southern":"st",spanish:"es",castilian:"es",sardinian:"sc",serbian:"sr",swati:"ss",sundanese:"su",swahili:"sw",swedish:"sv",tahitian:"ty",tamil:"ta",tatar:"tt",telugu:"te",tajik:"tg",tagalog:"tl",thai:"th",tigrinya:"ti",tonga:"to",tswana:"tn",tsonga:"ts",turkmen:"tk",turkish:"tr",twi:"tw",uighur:"ug",uyghur:"ug",ukrainian:"uk",urdu:"ur",uzbek:"uz",venda:"ve",vietnamese:"vi",volap\u00FCk:"vo",walloon:"wa",wolof:"wo",xhosa:"xh",yiddish:"yi",yoruba:"yo",zhuang:"za",chuang:"za",zulu:"zu"};function M(e,a,t){window.enmity.settings.set(e,a,t)}function w(e,a,t){return window.enmity.settings.get(e,a,t)}function G(e,a,t){return window.enmity.settings.getBoolean(e,a,t)}var Ae=["auto","aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh-cn","zh-tw","zu"],Ve={auto:"auto",aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",cha:"ch",che:"ce",chi:"zh",chis:"zh-cn",chit:"zh-tw",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cze:"cs",dan:"da",div:"dv",dut:"nl",dzo:"dz",eng:"en",epo:"eo",est:"et",ewe:"ee",fao:"fo",fij:"fj",fin:"fi",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mlg:"mg",mlt:"mt",mon:"mn",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zul:"zu"},A=e=>{if(typeof e!="string")throw new Error(`The "language" must be a string, received ${typeof e}`);if(e.length>100)throw new Error(`The "language" is too long at ${e.length} characters`);if(e=e.toLowerCase(),e=k[e]||Ve[e]||e,!Ae.includes(e))throw new Error(`The language "${e}" is not part of the ISO 639-1`);return e};function we(){var e=Object.create(null);this.put=function(t,s,n,u){if(typeof n!="undefined"&&(typeof n!="number"||isNaN(n)||n<=0))throw new Error("Cache timeout must be a positive number");if(typeof u!="undefined"&&typeof u!="function")throw new Error("Cache timeout callback must be a function");var h=e[t];h&&clearTimeout(h.timeout);var l={value:s,expire:n+Date.now()};return isNaN(l.expire)||(l.timeout=setTimeout(function(){a(t),u&&u(t,s)}.bind(this),n)),e[t]=l,s},this.del=function(t){var s=!0,n=e[t];return n?(clearTimeout(n.timeout),!isNaN(n.expire)&&n.expire<Date.now()&&(s=!1)):s=!1,s&&a(t),s};function a(t){delete e[t]}this.clear=function(){for(var t in e)clearTimeout(e[t].timeout);e=Object.create(null)},this.get=function(t){var s=e[t];if(typeof s!="undefined"){if(isNaN(s.expire)||s.expire>=Date.now())return s.value;delete e[t]}return null}}const V=new we;V.Cache=we;const Ye="https://translate.googleapis.com/translate_a/single";var He={fetch:({key:e,from:a,to:t,text:s})=>[`${Ye}?client=gtx&sl=${a}&tl=${t}&dt=t&q=${encodeURI(s)}`],parse:e=>e.json().then(a=>{if(a=a&&a[0]&&a[0][0]&&a[0].map(t=>t[0]).join(""),!a)throw new Error("Translation not found");return a})},Ke={google:He};if(typeof fetch=="undefined")try{global.fetch=require("node-fetch")}catch{console.warn("Please make sure node-fetch is available")}const F=function(e={}){if(!(this instanceof F))return new F(e);const a={from:"auto",to:"ja",cache:void 0,languages:A,engines:Ke,engine:"google",keys:{}},t=(s,n={})=>{typeof n=="string"&&(n={to:n}),n.text=s,n.from=A(n.from||t.from),n.to=A(n.to||t.to),n.cache=n.cache||t.cache,n.engines=n.engines||{},n.engine=n.engine||t.engine,n.url=n.url||t.url,n.id=n.id||`${n.url}:${n.from}:${n.to}:${n.engine}:${n.text}`,n.keys=n.keys||t.keys||{};for(let f in t.keys)n.keys[f]=n.keys[f]||t.keys[f];n.key=n.key||t.key||n.keys[n.engine];const u=n.engines[n.engine]||t.engines[n.engine],h=V.get(n.id);if(h)return Promise.resolve(h);if(n.to===n.from)return Promise.resolve(n.text);if(u.needkey&&!n.key)throw new Error(`The engine "${n.engine}" needs a key, please provide it`);const l=u.fetch(n);return fetch(...l).then(u.parse).then(f=>V.put(n.id,f,n.cache))};for(let s in a)t[s]=typeof e[s]=="undefined"?a[s]:e[s];return t},Y=new F;Y.Translate=F;async function ye(e,a,t){return a?await Y(e,{from:k[a],to:k[t]}):await Y(e,k[t])}const d=e=>e.split("_").map(a=>a[0].toUpperCase()+a.slice(1)).join(" "),fe=(e,a)=>`
            **[Dislate] Debug Information**
            > **Version:** ${e}
            > **Channel:** ${a}
            `,H=e=>{m.open({content:`Copied ${e} to clipboard`,source:r("pending-alert")})},Xe=Fe("StaticSearchBarContainer"),Oe=c.Arrow;var be=()=>{const[e,a]=o.useState([]),[t,s]=o.useState([]);return o.useEffect(()=>{let n=Object.keys(k);a(n)},[]),o.createElement(o.Fragment,null,o.createElement(Xe,{placeholder:"Search Language",onChangeText:n=>s(n)}),o.createElement(se,null,e.filter(n=>n.includes(t)).map(n=>w("Dislate","DislateLangFilter")&&n=="detect"?o.createElement(o.Fragment,null):o.createElement(c,{label:d(n),trailing:Oe,onPress:()=>{w("Dislate","DislateLangFilter")?M("Dislate","DislateLangTo",n):M("Dislate","DislateLangFrom",n),m.open({content:`Set ${k[n].toUpperCase()} as Language to Translate ${w("Dislate","DislateLangFilter")?"to":"from"}.`,source:w("Dislate","DislateLangFilter")?r("ic_activity_24px"):r("ic_raised_hand")}),p.pop()}}))))};const[We,ve]=q(_.byProps("transitionToGuild"),_.byProps("setString"));var Qe=({settings:e})=>{const a=r("ic_selection_checked_24px"),t=de.createThemedStyleSheet({icon:{color:ce.ThemeColorMap.INTERACTIVE_NORMAL},item:{color:ce.ThemeColorMap.TEXT_MUTED}}),[s,n]=o.useState(),[u,h]=o.useState();return o.createElement(o.Fragment,null,o.createElement(se,{onTouchStart:l=>{n(l.nativeEvent.pageX),h(l.nativeEvent.pageY)},onTouchEnd:l=>{s-l.nativeEvent.pageX<-100&&u-l.nativeEvent.pageY<40&&u-l.nativeEvent.pageY>-40&&p.pop()}},o.createElement(U,{title:"Language"},o.createElement(c,{label:"Translate From",leading:o.createElement(c.Icon,{style:t.icon,source:r("ic_raised_hand")}),trailing:()=>{var l;return o.createElement(re,{style:t.item},(l=d(w("Dislate","DislateLangFrom","detect")))!=null?l:"N/A")},onPress:()=>{M("Dislate","DislateLangFilter",!1),p.push(he,{component:be,name:"Dislate: Language From"})}}),o.createElement($,null),o.createElement(c,{label:"Translate To",leading:o.createElement(c.Icon,{style:t.icon,source:r("ic_activity_24px")}),trailing:()=>{var l;return o.createElement(re,{style:t.item},(l=d(w("Dislate","DislateLangTo","japanese")))!=null?l:"N/A")},onPress:()=>{M("Dislate","DislateLangFilter",!0),p.push(he,{component:be,name:"Dislate: Language To"})}})),o.createElement($,null),o.createElement(U,{title:"Utility"},o.createElement(c,{label:"Initialisation Toasts",leading:o.createElement(c.Icon,{style:t.icon,source:r("toast_image_saved")}),subLabel:`Enable Toasts to display Loading State of ${v}`,trailing:o.createElement(je,{value:e.getBoolean("toastEnable",!1),onValueChange:()=>{e.toggle("toastEnable",!1),m.open({content:`Successfully ${e.getBoolean("toastEnable",!1)?"enabled":"disabled"} Load Toasts.`,source:a})}})}),o.createElement($,null),o.createElement(c,{label:"Copy Debug Info",subLabel:`Copy useful debug information of ${v} to clipboard.`,leading:o.createElement(c.Icon,{style:t.icon,source:r("ic_rulebook_16px")}),trailing:c.Arrow,onPress:()=>{ve.setString(fe(z,j)),H("debug information")}})),o.createElement($,null),o.createElement(U,{title:"Source"},o.createElement(c,{label:"Download",subLabel:`Copy the link of ${v} to Clipboard`,leading:o.createElement(c.Icon,{style:t.icon,source:r("toast_copy_link")}),trailing:c.Arrow,onPress:()=>{ve.setString(`${L[0].download}?${Math.floor(Math.random()*1001)}.js`),H("download link")}}),o.createElement(c,{label:"Source",subLabel:`Open the Repo of ${v} Externally`,leading:o.createElement(c.Icon,{style:t.icon,source:r("ic_leave_stage")}),trailing:c.Arrow,onPress:()=>{We.openURL(L[0].repo)}})),o.createElement(c,{label:`Plugin Version: ${z}
Release Channel: ${j}`})))};function Je(e,a,t,s){window.enmity.clyde.sendReply(e,a,t,s)}var ke;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.Guild=1]="Guild",e[e.DM=2]="DM"})(ke||(ke={}));var R;(function(e){e[e.Chat=1]="Chat",e[e.User=2]="User",e[e.Message=3]="Message"})(R||(R={}));var I;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.BuiltInText=1]="BuiltInText",e[e.BuiltInIntegration=2]="BuiltInIntegration",e[e.Bot=3]="Bot",e[e.Placeholder=4]="Placeholder"})(I||(I={}));var De;(function(e){e[e.Role=1]="Role",e[e.User=2]="User"})(De||(De={}));var T;(function(e){e[e.SubCommand=1]="SubCommand",e[e.SubCommandGroup=2]="SubCommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionnable=9]="Mentionnable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(T||(T={}));var _e;(function(e){e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent"})(_e||(_e={}));let Ee=[];for(const[e,a]of Object.entries(k))Ee.push({name:d(e),displayName:d(e),value:e});const Ze={id:"translate",name:"translate",displayName:"translate",description:"Send a message in the language chosen.",displayDescription:"Send a message in the language chosen.",type:R.Chat,inputType:I.BuiltInText,options:[{name:"text",displayName:"text",description:"Text to send translated",displayDescription:"Text to send translated",type:T.String,required:!0},{name:"language",displayName:"language",description:"Language that it will translate to.",displayDescription:"The Language that Dislate will translate into.",type:T.String,choices:[...Ee.filter(e=>e.name!=="Detect")],required:!0}],execute:async function(e,a){let t=e.find(n=>n.name=="text").value,s=e.find(n=>n.name=="language").value;ye(t,w("Dislate","DislateLangFrom","detect"),s).then(n=>n?(Re.show({title:"Are you sure?",body:`The message about to be sent is:
\`${n}\`
Are you sure you want to send this?`,confirmText:"Yeah, send it",cancelText:"Nope, don't send it",onConfirm:()=>{ue.sendMessage(a.channel.id,{content:n}),m.open({content:`Sent message in ${d(s)}.`,source:r("img_nitro_star")})},onCancel:()=>{m.open({content:"Cancelled translated message request.",source:r("ic_megaphone_nsfw_16px")})}}),{}):(Je(a.channel.id,"Failed to send Translated Message."),{}))}},[en,nn]=q(_.byProps("transitionToGuild"),_.byProps("setString"));let K=v.toLowerCase();const tn={id:`${K}`,name:`${K}`,displayName:`${K}`,description:`Choose from a list of options for debugging in ${v}`,displayDescription:`Choose from a list of options for debugging in ${v}`,type:R.Chat,inputType:I.BuiltInText,options:[{name:"type",displayName:"type",description:"The type of command to execute",displayDescription:"The type of command to execute",type:T.String,choices:[{name:d("debug"),displayName:d("debug"),value:"debug"},{name:d("download"),displayName:d("download"),value:"download"},{name:d("repo"),displayName:d("repo"),value:"repo"}],required:!0}],execute:async function(e,a){var t;let s=e.find(h=>h.name=="type").value;const n={debug:()=>{ue.sendMessage(a.channel.id,{content:fe(z,j)}),m.open({content:"Sent debug info in current channel.",source:r("ic_application_command_24px")})},download:()=>{nn.setString(`${L[0].download}?${Math.floor(Math.random()*1001)}.js`),H("download link")},repo:()=>{en.openURL(L[0].repo)}},u=()=>{m.open({content:"Invalid command argument.",source:r("clock")})};return((t=n[s])!=null?t:u)(),{}}},[B,Se]=q(_.byProps("openLazy","hideActionSheet"),_.byProps("getChannel","getDMFromUserId")),X=Pe("dislate");var an=(e=>(e[e.Translate=0]="Translate",e[e.Revert=1]="Revert",e))(an||{});const on={...Ge,commands:[],onStart(){let e=[{invalid_id:"acquite sucks"}];this.commands=[Ze,tn];let a=0,t=3;const s=()=>{try{a++;let n=G("Dislate","masterDisable",!1),u=G("Dislate","toastEnable",!1);const h=le("getMessage","getMessages"),l=le("_currentDispatchActionType","_subscriptions","_actionHandlers","_waitQueue");for(const f of["MESSAGE_UPDATE"])try{l.dispatch({type:f,message:{}})}catch(P){console.log(`[Dislate Local Error ${P}]`)}console.log(`[Dislate] delayed start attempt ${a}/${t}.`),u?m.open({content:`[Dislate] start attempt ${a}/${t}.`,source:r("debug")}):console.log("[Dislate] Init Toasts are disabled."),X.before(B,"openLazy",(f,[P,pe],sn)=>{pe==="MessageLongPressActionSheet"&&P.then(Le=>{X.after(Le,"default",(rn,O,x)=>{var W,Q,J,Z,ee;const[D,Te]=o.useState(0);if(!x.props)return console.log('[Dislate Local Error: Property "Props" Does not Exist on "res"]'),x;const S=(ee=(Z=(J=(Q=(W=x==null?void 0:x.props)==null?void 0:W.children)==null?void 0:Q.props)==null?void 0:J.children)==null?void 0:Z.props)==null?void 0:ee.children[1],ne=()=>{const g=y=>{var te,ae,oe,ie;return((ae=(te=S[0+y])==null?void 0:te.props)==null?void 0:ae.message)=="Reply"?1+y:((ie=(oe=S[1+y])==null?void 0:oe.props)==null?void 0:ie.message)=="Reply"?2+y:0+y};return S[0].key=="420"?g(1):g(0)};if(S[ne()].key=="1002")return;const b=h.getMessage(O[0].message.channel_id,O[0].message.id);if(!b.content)return console.log("[Dislate] No message content.");const C=b.id,xe=b.content,N=e.find(g=>Object.keys(g)[0]===C),Ne=o.createElement(c,{key:"1002",label:`${D===0?"Translate":"Revert"}`,leading:o.createElement(c.Icon,{source:r(D===0?"img_nitro_star":"ic_highlight")}),onLongPress:()=>{try{if(!N)return m.open({content:"Message has not been translated yet.",source:r("img_nitro_star")}),console.log("[Dislate] Message hasn't been translated yet.");Te(D===0?1:0),m.open({content:`Toggled to ${D===1?"Translate":"Revert"} message.`,source:r(D===1?"img_nitro_star":"ic_highlight")})}catch(g){console.log(`[Dislate Local Error ${g}]`)}},onPress:()=>{try{if(D===0){if(N)return m.open({content:"Message has already been translated.",source:r("img_nitro_star")}),B.hideActionSheet(),console.log("[Dislate] Message has already been translated, please revert the translation to translate again.");ye(b.content,w("Dislate","DislateLangFrom","detect"),w("Dislate","DislateLangTo","japanese")).then(g=>{const y={type:"MESSAGE_UPDATE",message:{...b,content:`${g} \`[${d(w("Dislate","DislateLangTo","japanese"))}]\``,guild_id:Se.getChannel(b.channel_id).guild_id},log_edit:!1};l.dispatch(y),m.open({content:`Modified message to ${d(w("Dislate","DislateLangTo","japanese"))}.`,source:r("img_nitro_star")}),e.unshift({[C]:xe})}),B.hideActionSheet()}else{const g={type:"MESSAGE_UPDATE",message:{...b,content:N[C],guild_id:Se.getChannel(b.channel_id).guild_id},log_edit:!1};l.dispatch(g),m.open({content:"Reverted message back to original state.",source:r("img_nitro_star")}),e=e.filter(y=>y!==N),B.hideActionSheet()}}catch(g){console.log(`[Dislate Local Error ${g}]`)}}});S.splice(ne(),0,Ne)})})})}catch(n){console.log(`[Dislate Local Error ${n}]`);let u=G("Dislate","toastEnable",!1);a<t?(console.warn(`[Dislate] failed to start. Trying again in ${a}0s.`),u?m.open({content:`[Dislate] failed to start trying again in ${a}0s.`,source:r("ic_message_retry")}):console.log("[Dislate] Init toasts are disabled."),setTimeout(s,a*1e4)):(console.error("[Dislate] failed to start. Giving up."),u?m.open({content:"[Dislate] failed to start. Giving up.",source:r("Small")}):console.log("[Dislate] Init toasts are disabled."))}};setTimeout(()=>{s()},300)},onStop(){this.commands=[],X.unpatchAll()},getSettingsPanel({settings:e}){return o.createElement(Qe,{settings:e})}};Me(on);
