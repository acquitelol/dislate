const{components:c}=window.enmity;c.Alert,c.Button;const ot=c.FlatList,De=c.Image;c.ImageBackground,c.KeyboardAvoidingView,c.Modal,c.Pressable;const st=c.RefreshControl,he=c.ScrollView;c.SectionList,c.StatusBar,c.StyleSheet,c.Switch;const R=c.Text;c.TextInput,c.TouchableHighlight;const P=c.TouchableOpacity;c.TouchableWithoutFeedback,c.Touchable;const E=c.View;c.VirtualizedList,c.Form,c.FormArrow,c.FormCTA,c.FormCTAButton,c.FormCardSection,c.FormCheckbox;const O=c.FormDivider;c.FormHint,c.FormIcon,c.FormInput,c.FormLabel,c.FormRadio;const y=c.FormRow;c.FormSection,c.FormSelect,c.FormSubLabel;const ye=c.FormSwitch;c.FormTernaryCheckBox,c.FormText,c.FormTextColors,c.FormTextSizes;function rt(e){window.enmity.plugins.registerPlugin(e)}const ee={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,t)=>window.enmity.modules.filters.byName(e,t),byTypeName:(e,t)=>window.enmity.modules.filters.byTypeName(e,t),byDisplayName:(e,t)=>window.enmity.modules.filters.byDisplayName(e,t)};function it(e,t){return window.enmity.modules.getModule(e,t)}function lt(...e){return window.enmity.modules.bulk(...e)}function I(...e){return window.enmity.modules.getByProps(...e)}function fe(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common;const g=window.enmity.modules.common.Constants,pe=window.enmity.modules.common.Clipboard;window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars;const Y=window.enmity.modules.common.Native,n=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher;const be=window.enmity.modules.common.Storage,w=window.enmity.modules.common.Toasts,j=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings;const Re=window.enmity.modules.common.Users;window.enmity.modules.common.Navigation;const ke=window.enmity.modules.common.NavigationNative;window.enmity.modules.common.NavigationStack;const xe=window.enmity.modules.common.Theme;window.enmity.modules.common.Linking;const F=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function ct(e){return window.enmity.patcher.create(e)}var i="Dislate",G="1.4.0",mt="Translates text into a desired language.",Ie="stable",ut=[{name:"Acquite <3",id:"581573474296791211",profile:"https://github.com/acquitelol/"}],N={download:"https://raw.githubusercontent.com/acquitelol/dislate/main/dist/Dislate.js",repo:"https://github.com/acquitelol/dislate",build:"patch-2.2.8",hash:"114db6c0"},gt="#ff91ff",v={name:i,version:G,description:mt,release:Ie,authors:ut,plugin:N,color:gt};function B(e,t,a){window.enmity.settings.set(e,t,a)}function h(e,t,a){return window.enmity.settings.get(e,t,a)}function te(e,t,a){return window.enmity.settings.getBoolean(e,t,a)}function _e(e,t,a){return window.enmity.utilities.findInReactTree(e,t,a)}const dt="https://translate.googleapis.com/translate_a/single",Ae={fetch:({from:e,to:t,text:a})=>`${dt}?client=gtx&sl=${e}&tl=${t}&dt=t&q=${encodeURIComponent(a)}`,parse:e=>e.json().then(t=>{if(t=t&&t[0]&&t[0][0]&&t[0].map(a=>a[0]).join(""),!t)throw new Error("Invalid Translation!");return t})};if(typeof fetch=="undefined")try{global.fetch=require("node-fetch")}catch{console.warn("Please make sure node-fetch is available")}async function ht(e,{fromLanguage:t,toLanguage:a}){const s=Ae.fetch({text:e,from:t,to:a});return await fetch(s).then(Ae.parse)}async function yt(e,{fromLanguage:t="detect",toLanguage:a="english"},s,o){return o?e:await ht(e,{fromLanguage:s[t],toLanguage:s[a]})}var ne={string:yt};const{native:W}=window.enmity;function ft(){W.reload()}const we=W.version;W.build;const pt=W.device;W.version;var H=(e,t,a,s,o)=>{try{return e(...t)}catch(r){console.warn(`[${a}] The following error happened when trying to ${s} ${o!=null?o:"unspecificied label"}: ${r}`);return}};async function Me(){var e,t,a;const s=window.HermesInternal.getRuntimeProperties(),o=I("View","Text").Platform.constants,r=o.reactNativeVersion;return{Plugin:{Version:G,Build:N.hash,Channel:Ie},Client:{Version:Y.InfoDictionaryManager.Version,Build:Y.InfoDictionaryManager.Build,Release:Y.InfoDictionaryManager.ReleaseChannel,Bundle:Y.InfoDictionaryManager.Identifier.split(".")[2]},React:{Version:n.version,Bytecode:s["Bytecode Version"],Hermes:s["OSS Release Version"],Native:`${(e=r.major)!=null?e:0}.${(t=r.minor)!=null?t:0}.${(a=r.patch)!=null?a:0}`},Native:{Version:Y.DCDDeviceManager.systemVersion,Device:pt,Manufacturer:Y.DCDDeviceManager.deviceManufacturer,Idiom:o.interfaceIdiom}}}async function bt(e,t){return await H(async function(){let a=[`**[${i}] Debug Information**
`];const s=await Me();return Object.keys(e).forEach(o=>{Object.values(e[o]).some(r=>r)&&a.push(`[**${o}**]`),Object.keys(e[o]).forEach(r=>{e[o][r]&&s[o][r]&&a.push(`> **${r}**: ${s[o][r]}`)})}),a.join(`
`)},[e],i,"creating debug info at",t)}var U={fetchDebugArguments:Me,debugInfo:bt};function p(e){return window.enmity.assets.getIDByName(e)}var u={Translate:p("img_nitro_star"),Revert:p("ic_highlight"),Debug:p("debug"),Retry:p("ic_message_retry"),Failed:p("Small"),Cancel:p("ic_megaphone_nsfw_16px"),Delete:p("ic_message_delete"),Copy:p("toast_copy_link"),Open:p("ic_leave_stage"),Clipboard:p("pending-alert"),Add:p("ic_add_perk_24px"),Clock:p("clock"),Settings:{Toasts:{Context:p("toast_image_saved"),Settings:p("ic_selection_checked_24px"),Failed:p("ic_close_circle_24px")},TranslateFrom:p("ic_raised_hand_list"),TranslateTo:p("ic_activity_24px"),Debug:p("ic_rulebook_16px"),Initial:p("coffee"),Update:p("discover"),Locale:p("ic_locale_24px"),Back:p("ios-back")}};const wt={messageSpoofer:"69",copyEmbed:"1337",invisChat:"420",cutMessage:"512",dislate:"1002",viewRaw:"-1"},vt=(e=.1)=>({shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:e,shadowRadius:4.65,elevation:8}),ve=F.createThemedStyleSheet({container:{backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,flex:.5},card:{backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_PRIMARY,color:g.ThemeColorMap.TEXT_NORMAL},header:{backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,shadowColor:"transparent",elevation:0},text:{color:g.ThemeColorMap.HEADER_PRIMARY,fontFamily:g.Fonts.PRIMARY_MEDIUM,fontSize:16},title:{color:"white",fontFamily:g.Fonts.PRIMARY_NORMAL}}),Et={cardStyle:ve.card,headerStyle:ve.header,headerTitleContainerStyle:{color:g.ThemeColorMap.HEADER_PRIMARY},headerTitleAlign:"center",safeAreaInsets:{top:0}},St=(e,t)=>{w.open({content:t=="clipboard"?`Copied ${e} to clipboard.`:e,source:t=="clipboard"?u.Clipboard:u.Settings.Initial})},Tt=e=>H(()=>{if(parseInt(we.substring(0,3))>164){const{RawColor:t}=I("SemanticColor");return t[e[xe.theme].raw]}return e[{dark:0,light:1,amoled:2}[xe.theme]]},[e],i,"getting a formatted color for both newest and older versions"),$t=(e,t,a,s=186,o)=>H(()=>{var r;let l=(r=Tt(e))==null?void 0:r.replace("#","");const m=(C,_,Z)=>parseInt(C.substring(_[0],_[1]),Z),f=m(l,[0,2],16),d=m(l,[2,4],16),L=m(l,[4,6],16);return(f+d+L)/(255*3)>s?a:t},[e,t,a,s],i,"checking if color should be light or dark at",o);var b={externalPlugins:wt,shadow:vt,PageStyles:ve,PageOptions:Et,displayToast:St,filterColor:$t};async function Lt(e,t){await H(async function(){var a;e.type==="storage"?await be.setItem(e.name,JSON.stringify(e.content)):B(i,e.name,e.content);const s=JSON.parse((a=h(i,"state_store",null))!=null?a:"[]");s.find(o=>o.name===e.name)||s.push(e),B(i,"state_store",JSON.stringify(s))},[e],i,"storing an item in plugin file or storage at",t)}var ae={item:Lt};const Ct=(e,t)=>e.split(t?/(?=[A-Z])/:"_").map(a=>a[0].toUpperCase()+a.slice(1)).join(" ");var S={string:Ct};async function Dt(){await H(async function(){const e=`${N.download}?${Math.floor(Math.random()*1001)}.js`,t=await(await fetch(e)).text(),a=t.match(/\d+\.\d+\.\d+/g),s=t.match(/hash:"(.*?)"/);if(!a&&!s)return kt(i,[G,N.build]);const o=a&&a[0],r=s&&s[1];return o&&o!=G?Pe(e,o,"version"):r&&r!=N.hash?Pe(e,r,"build"):Rt(i,[G,N.hash])},[N],i,"checking if latest version at","the async check for updates callback")}const Pe=(e,t,a)=>{j.show({title:"Update found",body:`A newer ${a} is available for ${i}. ${a=="build"?`
The version will remain at ${G}, but the build will update to ${t}.`:""}
Would you like to install ${a} \`${t}\` now?`,confirmText:"Update",cancelText:"Not now",onConfirm:()=>xt(e,t,a)})},Rt=(e,[t,a])=>{console.log(`[${e}] Plugin is on the latest update, which is version ${t} and build ${a}`),j.show({title:"Already on latest",body:`${e} is already updated to the latest version.
Version: \`${t}\`
Build: \`${a}\``,confirmText:"Okay"})},kt=(e,[t,a])=>{console.log(`[${e}] Plugin failed to update to the latest version and build, remaining at ${t} and ${a}`),j.show({title:"Failed",body:`${e} to find a new version or build.
The current versions will remain as follows:
Version: \`${t}\`
Build: \`${a}\``,confirmText:"Okay"})};async function xt(e,t,a){await H(async function(){window.enmity.plugins.installPlugin(e,({data:s})=>{s=="installed_plugin"||s=="overridden_plugin"?j.show({title:`Updated ${i}`,body:`Successfully updated to ${a} \`${t}\`. 
Would you like to reload Discord now?`,confirmText:"Reload",cancelText:"Not now",onConfirm:()=>ft()}):console.log(`[${i}] Plugin failed to update to ${a} ${t}.`)})},[e,t,a],i,"installing plugin because","new version available")}var It={checkForUpdates:Dt},Fe;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.Guild=1]="Guild",e[e.DM=2]="DM"})(Fe||(Fe={}));var oe;(function(e){e[e.Chat=1]="Chat",e[e.User=2]="User",e[e.Message=3]="Message"})(oe||(oe={}));var se;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.BuiltInText=1]="BuiltInText",e[e.BuiltInIntegration=2]="BuiltInIntegration",e[e.Bot=3]="Bot",e[e.Placeholder=4]="Placeholder"})(se||(se={}));var Ne;(function(e){e[e.Role=1]="Role",e[e.User=2]="User"})(Ne||(Ne={}));var J;(function(e){e[e.SubCommand=1]="SubCommand",e[e.SubCommandGroup=2]="SubCommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionnable=9]="Mentionnable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(J||(J={}));var Be;(function(e){e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent"})(Be||(Be={}));var V=["detect","amharic","arabic","aymara","assamese","akan","azerbaijani","belarusian","bulgarian","bambara","bengali","corsican","czech","bosnian","danish","catalan","valencian","german","ewe","divehi","dhivehi","maldivian","english","greek","estonian","esperanto","basque","spanish","castilian","finnish","french","persian","irish","galician","guarani","western_frisian","gujarati","gaelic","scottish_gaelic","hausa","croatian","hebrew","hindi","haitian","haitian_creole","armenian","indonesian","hungarian","igbo","icelandic","italian","georgian","javanese","japanese","korean","kazakh","kannada","afrikaans","central_khmer","welsh","kurdish","kirghiz","kyrgyz","latin","luxembourgish","letzeburgesch","ganda","lao","latvian","lingala","lithuanian","malagasy","macedonian","malayalam","maori","marathi","norwegian_bokm\xE5l","mongolian","burmese","maltese","nepali","malay","dutch","flemish","chichewa","chewa","nyanja","norwegian","oromo","oriya","panjabi","punjabi","polish","quechua","pushto","pashto","russian","sanskrit","romanian","moldavian","moldovan","slovenian","kinyarwanda","slovak","sinhala","sinhalese","samoan","shona","somali","serbian","albanian","swahili","southern_sotho","swedish","sundanese","tamil","tajik","telugu","tagalog","turkmen","tigrinya","thai","tsonga","sindhi","portuguese","twi","turkish","tatar","urdu","ukrainian","uighur","uyghur","uzbek","vietnamese","yiddish","xhosa","chinese_traditional","chinese_simplified","zulu","yoruba"],X=["auto","am","ar","ay","as","ak","az","be","bg","bm","bn","co","cs","bs","da","ca","ca","de","ee","dv","dv","dv","en","el","et","eo","eu","es","es","fi","fr","fa","ga","gl","gn","fy","gu","gd","gd","ha","hr","he","hi","ht","ht","hy","id","hu","ig","is","it","ka","jv","ja","ko","kk","kn","af","km","cy","ku","ky","ky","la","lb","lb","lg","lo","lv","ln","lt","mg","mk","ml","mi","mr","nb","mn","my","mt","ne","ms","nl","nl","ny","ny","ny","no","om","or","pa","pa","pl","qu","ps","ps","ru","sa","ro","ro","ro","sl","rw","sk","si","si","sm","sn","so","sr","sq","sw","st","sv","su","ta","tg","te","tl","tk","ti","th","ts","sd","pt","tw","tr","tt","ur","uk","ug","ug","uz","vi","yi","xh","zh-tw","zh-cn","zu","yo"];const Ee=F.createThemedStyleSheet({icon:{color:g.ThemeColorMap.INTERACTIVE_NORMAL},disabled:{color:g.ThemeColorMap.TEXT_MUTED},enabled:{color:g.ThemeColorMap.INTERACTIVE_NORMAL}});var _t=({option:e,parent:t,debugOptions:a,onConfirm:s})=>{const[o,r]=n.useState(h(i,t,{})[e]);return n.useEffect(()=>{const l=h(i,t,{});l[e]||ae.item({name:t,content:{...l,[e]:!1},type:"setting",override:{}})},[]),n.createElement(y,{key:e,label:e,onPress:()=>{const l=h(i,t,{});ae.item({name:t,content:{...l,[e]:!l[e]},type:"setting",override:{}}),r(h(i,t,{})[e])},onLongPress:async function(){await s(await U.debugInfo({[t]:{[e]:!0}}),`${t} \u279D ${e}`)},leading:n.createElement(y.Icon,{style:Ee.icon,source:o?u.Settings.Toasts.Settings:u.Settings.Toasts.Failed}),trailing:()=>n.createElement(R,{style:[{paddingTop:5,paddingBottom:5,paddingRight:10},o?Ee.enabled:Ee.disabled]},a[t][e])})};const Oe={standard:{backgroundColor:"rgba(0, 0, 0, 0.5)",marginTop:20},floating:{position:"absolute",bottom:0,marginBottom:30,backgroundColor:"rgba(0, 0, 0, 0.8)"}},q=F.createThemedStyleSheet({button:{width:"90%",borderRadius:10,marginLeft:"5%",marginRight:"5%",...b.shadow()},text:{color:"#f2f2f2",textAlign:"left",letterSpacing:.25,padding:10},textHeader:{fontSize:20,fontFamily:g.Fonts.PRIMARY_BOLD},textContent:{fontSize:16,fontFamily:g.Fonts.PRIMARY_NORMAL},image:{width:25,height:25,borderRadius:4,position:"absolute",right:0,margin:10}}),je=window.enmity,Se=je.modules.common.Components.General.Animated,At=je.modules.common.Components.General.Easing;var Ue=({label:e,content:t,type:a})=>{const s=n.useRef(new Se.Value(1)).current;async function o(){const l=()=>Se.timing(s,{toValue:0,duration:250,useNativeDriver:!0,easing:At.sin}).start();j.show({title:"Close Tip?",body:"You can either hide this information box forever, or just hide it until you open this page again.",confirmText:"Don't Show Again",cancelText:"Cancel",onConfirm:async function(){await ae.item({name:e,content:!0,type:"setting",override:!1},`storing dialog at ${e} in Dialog component`),l()}})}const r={transform:[{scale:s}]};return h(i,e,!1)?n.createElement(n.Fragment,null):n.createElement(Se.View,{style:r},n.createElement(P,{style:[q.button,Oe[a]||Oe.standard],onPress:async function(){await o()}},n.createElement(E,{style:{width:"100%",flexDirection:"row"}},n.createElement(De,{style:q.image,source:{uri:Re.getCurrentUser().getAvatarURL()}})),n.createElement(R,{style:[q.text,q.textHeader]},e),n.createElement(R,{style:[q.text,q.textContent]},t)))};const Ve=F.createThemedStyleSheet({text:{color:g.ThemeColorMap.HEADER_SECONDARY,paddingLeft:"5.5%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:g.Fonts.PRIMARY_BOLD,fontSize:12}});var re=({label:e,children:t})=>n.createElement(E,{style:{marginTop:10}},n.createElement(R,{style:[Ve.text,Ve.optionText]},e.toUpperCase()),t);const $=F.createThemedStyleSheet({button:{width:"42.5%",height:50,justifyContent:"center",alignItems:"center",backgroundColor:g.ThemeColorMap.HEADER_PRIMARY,borderRadius:10,marginLeft:"5%",marginTop:20,marginBottom:5},buttonContainer:{flexDirection:"row"},text:{color:b.filterColor(g.ThemeColorMap.HEADER_PRIMARY,"#f2f2f2","#121212",.8,"buttons in debug info menu"),textAlign:"center",paddingLeft:10,paddingRight:10,letterSpacing:.25,fontFamily:g.Fonts.PRIMARY_BOLD},buttonText:{fontSize:16},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,...b.shadow()},pageContainer:{paddingTop:200,top:-200,paddingBottom:300,marginBottom:-450,backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_PRIMARY},searchWrapper:{flexDirection:"row"},searchContainer:{borderRadius:11,width:"65%",overflow:"hidden",marginTop:15,marginLeft:"5%",marginRight:"5%"},search:{margin:0,padding:0,borderBottomWidth:0,background:"none",backgroundColor:"none"},title:{color:g.ThemeColorMap.HEADER_SECONDARY,fontFamily:g.Fonts.DISPLAY_BOLD,letterSpacing:.25,textAlign:"center"},titleContainer:{width:"20%",marginTop:15,backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,borderRadius:10,justifyContent:"center",alignItems:"center"}}),Mt=fe("StaticSearchBarContainer"),Pt=I("openLazy","hideActionSheet");var Ft=({onConfirm:e,type:t})=>{const[a,s]=n.useState([]),[o,r]=n.useState("");return n.useEffect(async function(){s(await U.fetchDebugArguments())},[]),n.createElement(he,{style:$.pageContainer},n.createElement(E,{style:[$.searchWrapper,{...b.shadow(.05)}]},n.createElement(E,{style:$.searchContainer},n.createElement(Mt,{placeholder:"Search...",style:$.search,inputStyle:$.search,onChangeText:l=>r(l),collapsable:!0,value:o})),n.createElement(P,{style:$.titleContainer,onPress:()=>{Object.keys(a).forEach(l=>{Object.keys(a[l]).forEach(m=>{ae.item({name:l,content:{...h(i,l),[m]:!1},type:"setting",override:{}})})}),Pt.hideActionSheet(),w.open({content:"Successfully cleared all debug options.",source:u.Delete})}},n.createElement(R,{style:$.title},"Clear All"))),n.createElement(E,{style:$.buttonContainer},n.createElement(P,{style:$.button,onPress:async function(){await e(await U.debugInfo(await U.fetchDebugArguments()),"full debug log")}},n.createElement(R,{style:[$.text,$.buttonText]},S.string(t!=null?t:"send")," All")),n.createElement(P,{style:$.button,onPress:async function(){const l=Object.keys(a).map(m=>{var f;return{[m]:(f=h(i,m,{}))!=null?f:{}}}).reduce((m,f)=>({...m,...f}),{});await e(await U.debugInfo(l),"partial debug log")}},n.createElement(R,{style:[$.text,$.buttonText]},S.string(t!=null?t:"send")," Message"))),Object.keys(a).map(l=>n.createElement(re,{label:l},n.createElement(E,{style:$.container},Object.keys(a[l]).filter(m=>o?m.toLowerCase().includes(o):m).map((m,f,d)=>n.createElement(n.Fragment,null,n.createElement(_t,{option:m,parent:l,debugOptions:a,onConfirm:e}),f!==d.length-1?n.createElement(O,null):null))))),n.createElement(Ue,{label:"Information",content:`You can either tap on each item to toggle it and press "${S.string(t!=null?t:"send")} Message", or you can long-press on an item to only send that item.

To close this dialog, press on it.`,type:"standard"}))},ze;const Ye=((ze=it(e=>{var t,a;return((a=(t=e.default)==null?void 0:t.render)==null?void 0:a.name)==="ActionSheet"}))!=null?ze:{default:{render:!1}}).default.render,Nt=I("BottomSheetScrollView").BottomSheetScrollView,Bt=I("openLazy","hideActionSheet");function Ge({onConfirm:e,type:t}){Ye?Bt.openLazy(new Promise(a=>a({default:Ot})),"DebugInfoActionSheet",{onConfirm:e,type:t}):w.open({content:"You cannot open ActionSheets on this version! Upgrade to 163+",source:u.Failed})}function Ot({onConfirm:e,type:t}){return n.createElement(Ye,{scrollable:!0},n.createElement(Nt,{contentContainerStyle:{marginBottom:50}},n.createElement(Ft,{onConfirm:e,type:t})))}var He,qe,Ke;const jt=I("openLazy","hideActionSheet"),We=e=>({async debug(){return await new Promise(t=>{Ge({onConfirm:(a,s)=>{jt.hideActionSheet(),w.open({content:`Sent ${s} in #${e}`,source:u.Settings.Toasts.Settings}),t({content:a})},type:"send"})})},async example(){const t="Example Message. Enmity is a state or feeling of active opposition or hostility.",a=Math.floor(Math.random()*V.length),s=V[a],o=await ne.string(t,{fromLanguage:"detect",toLanguage:s},Object.assign({},...V.map((r,l)=>({[r]:X[l]}))));return await new Promise(r=>{j.show({title:"Are you sure?",body:`**This is a testing message.**
You are about to send the following:

**English:** ${t}

**${S.string(s)}:** ${o}

Are you sure you want to send this? :3`,confirmText:"Yep, send it!",cancelText:"Nope, don't send it",onConfirm:()=>{w.open({content:`Sent test message in #${e}.`,source:u.Translate}),r({content:`**[${i}] Test Message**

**English:** ${t}
**${S.string(s)}:** ${o}`})},onCancel:()=>{w.open({content:"Cancelled translated message request.",source:u.Cancel}),r({})}})})},async clearStores(){var t,a;const s=(t=JSON.parse(h(i,"state_store",null)))!=null?t:[];for(let o=0;o<s.length;o++){const r=s[o];r.type==="storage"?await be.removeItem(r.name):B(i,r.name,(a=r.override)!=null?a:!1)}B(i,"state_store",null),w.open({content:`Cleared all ${i} stores.`,source:u.Settings.Toasts.Settings})},async download(){return await new Promise(t=>{pe.setString(`${N.download}?${Math.floor(Math.random()*1001)}.js`),b.displayToast("download link","clipboard"),t({})})}}),Ut=Object.keys(We("placeholder")).map(e=>({name:S.string(e,!0),displayName:S.string(e,!0),value:e}));var Vt={id:`${(He=i)==null?void 0:He.toLowerCase()}`,name:`${(qe=i)==null?void 0:qe.toLowerCase()}`,displayName:`${(Ke=i)==null?void 0:Ke.toLowerCase()}`,description:`Choose from a list of options for debugging in ${i}.`,displayDescription:`Choose from a list of options for debugging in ${i}.`,type:oe.Chat,inputType:se.BuiltInText,options:[{name:"type",displayName:"type",description:"The type of command to execute.",displayDescription:"The type of command to execute.",type:J.String,choices:[...Ut],required:!0}],async execute(e,t){var a;const s=e.find(l=>l.name==="type").value,o=We(t.channel.name),r=()=>{w.open({content:"Invalid command argument.",source:u.Clock})};return await((a=o[s])!=null?a:r)()}};function zt(e,t,a,s){window.enmity.clyde.sendReply(e,t,a,s)}const Yt=V.filter(e=>e!=="detect").map(e=>({name:S.string(e),displayName:S.string(e),value:e}));var Gt={id:"translate",name:"translate",displayName:"translate",description:`Send a message using ${i} in any language chosen, using the Google Translate API.`,displayDescription:`Send a message using ${i} in any language chosen, using the Google Translate API.`,type:oe.Chat,inputType:se.BuiltInText,options:[{name:"text",displayName:"text",description:`The text/message for ${i} to translate. Please note some formatting of mentions and emojis may break due to the API.`,displayDescription:`The text/message for ${i} to translate. Please note some formatting of mentions and emojis may break due to the API.`,type:J.String,required:!0},{name:"language",displayName:"language",description:`The language that ${i} will translate the text into. This can be any language from the list, except "Detect".`,displayDescription:`The language that ${i} will translate the text into. This can be any language from the list, except "Detect".`,type:J.String,choices:[...Yt],required:!0}],async execute(e,t){const a=e.find(m=>m.name==="text").value,s=e.find(m=>m.name==="language").value,o=Object.assign({},...V.map((m,f)=>({[m]:X[f]}))),r=await ne.string(a,{fromLanguage:h(i,"DislateLangFrom","detect"),toLanguage:s},o),l=await ne.string(r,{fromLanguage:h(i,"DislateLangFrom","detect"),toLanguage:h(i,"DislateLangTo","english")},o);return!r||!l?(zt(t.channel.id,`Failed to send message in #${t.channel.name}`),{}):await new Promise(m=>{j.show({title:"Are you sure?",body:`The message **about to be sent** is:
\`${r}\`

In **${S.string(h(i,"DislateLangTo","english"))}**, this will translate to:
\`${l}\`

${h(i,"DislateBothLangToggle",!1)?`**Note: Sending original and translated**
`:""}Are you sure you want to send this? :3`,confirmText:"Yep, send it!",cancelText:"Nope, don't send it",onConfirm:()=>{w.open({content:`Sent message in #${t.channel.name}, which was translated into ${S.string(s)}.`,source:u.Translate}),m({content:h(i,"DislateBothLangToggle",!1)?`${a}

${r}`:r})},onCancel:()=>{w.open({content:"Cancelled translated message request.",source:u.Cancel}),m({})}})})}},Ht=["auto","amh","ara","aym","asm","aka","aze","bel","bul","bam","ben","cos","cze","bos","dan","cat","cat","ger","ewe","div","div","div","eng","gre","est","epo","baq","spa","spa","fin","fre","per","gle","glg","grn","fry","guj","gla","gla","hau","hrv","heb","hin","hat","hat","arm","ind","hun","ibo","ice","ita","geo","jav","jpn","kor","kaz","kan","afr","khm","wel","kur","kir","kir","lat","ltz","ltz","lug","lao","lav","lin","lit","mlg","mac","mal","mao","mar","nob","mon","bur","mlt","nep","may","dut","dut","nya","nya","nya","nor","orm","ori","pan","pan","pol","que","pus","pus","rus","san","rum","rum","rum","slv","kin","slo","sin","sin","smo","sna","som","srp","alb","swa","sot","swe","sun","tam","tgk","tel","tgl","tuk","tir","tha","tso","snd","por","twi","tur","tat","urd","ukr","uig","uig","uzb","vie","yid","xho","chit","chis","zul","yor"];const qt=F.createThemedStyleSheet({container:{width:"95%",marginLeft:"2.5%",borderRadius:10,marginTop:15,backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY}}),ie=window.enmity.modules.common.Components.General.Animated;var Kt=({language:e,languages:t,selected:a,setSelected:s})=>{const o=ke.useNavigation(),r=Object.assign({},...X.map((C,_)=>({[C]:Ht[_]}))),l=n.useRef(new ie.Value(1)).current,m=()=>ie.spring(l,{toValue:1.05,duration:250,useNativeDriver:!0}).start(),f=()=>ie.spring(l,{toValue:1,duration:250,useNativeDriver:!0}).start(),d={transform:[{scale:l}]},L=C=>{var _;B(i,`DislateLang${h(i,"DislateLangFilter")?"To":"From"}`,C),w.open({content:`Set ${t[C].toUpperCase()} as Language to Translate ${h(i,"DislateLangFilter")?"to":"from"}.`,source:h(i,"DislateLangFilter")?u.Settings.TranslateTo:u.Settings.TranslateFrom}),s(h(i,`DislateLang${h(i,"DislateLangFilter")?"To":"From"}`)),(_=o==null?void 0:o.pop)==null||_.call(o)};return n.createElement(n.Fragment,null,n.createElement(P,{onPress:()=>L(e),onLongPress:()=>L(e),onPressIn:m,onPressOut:f},n.createElement(ie.View,{style:[d,qt.container]},n.createElement(y,{label:S.string(e),subLabel:`Aliases: ${t[e]}, ${r[t[e]]}`,trailing:()=>n.createElement(y.Arrow,null),leading:n.createElement(y.Icon,{style:{color:g.ThemeColorMap.INTERACTIVE_NORMAL},source:a===e?u.Settings.Toasts.Settings:u.Add})}))))};const Wt=fe("StaticSearchBarContainer");var Jt=({languages:e})=>{const[t,a]=n.useState([]),[s,o]=n.useState(e),[r,l]=n.useState(!1),[m,f]=n.useState(h(i,`DislateLang${h(i,"DislateLangFilter")?"To":"From"}`));return n.createElement(E,{style:{marginBottom:50}},n.createElement(Wt,{placeholder:"Search Language",onChangeText:d=>a(d)}),n.createElement(he,{refreshControl:n.createElement(st,{refreshing:r,onRefresh:async function(){l(!0),o(Object.assign({},...V.map((d,L)=>({[d]:X[L]})))),l(!1)}})},n.createElement(E,{style:{paddingBottom:30}},n.createElement(ot,{data:Object.keys(s).filter(d=>d.toLowerCase().includes(t)),renderItem:({item:d})=>h(i,"DislateLangFilter")&&d=="detect"?n.createElement(n.Fragment,null):n.createElement(Kt,{language:d,languages:s,selected:m,setSelected:f}),keyExtractor:d=>d}))),n.createElement(Ue,{label:"Important",content:`You can either press or long-press on an item to select it as the language to translate ${h(i,"DislateLangFilter")?"to":"from"}. Your current selected language has a \u2713 next to it.

To hide this dialog, press on it.`,type:"floating"}))};const k=F.createThemedStyleSheet({container:{marginTop:25,marginLeft:"5%",marginBottom:-15,flexDirection:"row"},textContainer:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap",...b.shadow()},image:{width:75,height:75,borderRadius:10,...b.shadow()},mainText:{opacity:.975,letterSpacing:.25},header:{color:g.ThemeColorMap.HEADER_PRIMARY,fontFamily:g.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},subHeader:{color:g.ThemeColorMap.HEADER_SECONDARY,fontSize:12.75}}),le=window.enmity.modules.common.Components.General.Animated,Te=I("transitionToGuild","openURL");var Xt=({manifest:{name:e,version:t,plugin:a,authors:s}})=>{const o=n.useRef(new le.Value(1)).current,r=()=>le.spring(o,{toValue:1.1,duration:10,useNativeDriver:!0}).start(),l=()=>le.spring(o,{toValue:1,duration:250,useNativeDriver:!0}).start(),m=()=>Te.openURL(a.repo),f={transform:[{scale:o}]};return n.createElement(E,{style:k.container},n.createElement(P,{onPress:m,onPressIn:r,onPressOut:l},n.createElement(le.View,{style:f},n.createElement(De,{style:[k.image],source:{uri:Re.getCurrentUser().getAvatarURL()}}))),n.createElement(E,{style:k.textContainer},n.createElement(P,{onPress:()=>Te.openURL(a.repo)},n.createElement(R,{style:[k.mainText,k.header]},e)),n.createElement(E,{style:{flexDirection:"row"}},n.createElement(R,{style:[k.mainText,k.subHeader]},"A project by"),s.map((d,L,C)=>n.createElement(P,{onPress:()=>Te.openURL(d.profile)},n.createElement(R,{style:[k.mainText,k.subHeader,{paddingLeft:4,fontFamily:g.Fonts.DISPLAY_BOLD,flexDirection:"row"}]},d.name,L<C.length-1?",":null)))),n.createElement(E,null,n.createElement(P,{style:{flexDirection:"row"},onPress:async function(){const d=await U.fetchDebugArguments();pe.setString(await U.debugInfo(d)),b.displayToast("debug information","clipboard")}},n.createElement(R,{style:[k.mainText,k.subHeader]},"Version:"),n.createElement(R,{style:[k.mainText,k.subHeader,{paddingLeft:4,fontFamily:g.Fonts.DISPLAY_BOLD}]},t)))))};const x=F.createThemedStyleSheet({icon:{tintColor:g.ThemeColorMap.INTERACTIVE_NORMAL},item:{color:g.ThemeColorMap.TEXT_MUTED,fontFamily:g.Fonts.PRIMARY_MEDIUM},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,...b.shadow()},subheaderText:{color:g.ThemeColorMap.HEADER_SECONDARY,textAlign:"center",margin:10,marginBottom:50,letterSpacing:.25,fontFamily:g.Fonts.PRIMARY_BOLD,fontSize:14}});function Je({manifest:e,renderPage:t,Navigation:a,languages:s,kind:o}){return n.createElement(y,{label:`Translate ${S.string(o)}`,leading:n.createElement(y.Icon,{style:x.icon,source:o==="to"?u.Settings.TranslateTo:u.Settings.TranslateFrom}),trailing:()=>{var r;return n.createElement(E,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.createElement(R,{adjustsFontSizeToFit:!0,style:x.item},(r=S.string(h(e.name,`DislateLang${S.string(o)}`,"detect")))!=null?r:"N/A"),n.createElement(y.Arrow,null))},onPress:()=>{B(e.name,"DislateLangFilter",o==="to"),t(a,{pageName:`Translate ${te(e.name,"DislateLangFilter",!0)?"To":"From"}`,pagePanel:()=>n.createElement(Jt,{languages:s})})},onLongPress:()=>b.displayToast('Open a new page allowing you to choose a language that you can translate from. The default is "Detect".',"tooltip")})}const Zt=I("transitionToGuild","openURL"),Qt=I("openLazy","hideActionSheet"),K=parseInt(we.split(".")[0])>163?15:0;var en=({settings:e,manifest:t,languages:a,renderPage:s})=>{const o=ke.useNavigation();return n.createElement(he,null,n.createElement(Xt,{manifest:t}),n.createElement(E,{style:{marginTop:20}},n.createElement(re,{label:"Language"},n.createElement(E,{style:x.container},n.createElement(Je,{manifest:t,renderPage:s,Navigation:o,languages:a,kind:"from"}),n.createElement(O,null),n.createElement(Je,{manifest:t,renderPage:s,Navigation:o,languages:a,kind:"to"}),n.createElement(O,null),n.createElement(y,{label:"Abbreviate Language",leading:n.createElement(y.Icon,{style:x.icon,source:u.Retry}),subLabel:"Label language in a shorter form when translating (English \u279D EN).",onLongPress:()=>b.displayToast("Convert the full language name to an abbreviation when translating someone else's message. (test [English] \u279D test [EN])","tooltip"),trailing:()=>n.createElement(ye,{value:e.getBoolean("DislateLangAbbr",!1),style:{marginLeft:-K},onValueChange:()=>{e.toggle("DislateLangAbbr",!1),w.open({content:`Successfully ${e.getBoolean("DislateLangAbbr",!1)?"enabled":"disabled"} language abbreviations.`,source:u.Settings.Toasts.Settings})}})}),n.createElement(O,null),n.createElement(y,{label:"Send Original",leading:n.createElement(y.Icon,{style:x.icon,source:u.Settings.Locale}),subLabel:"Send both the Original and Translated message when using /translate.",onLongPress:()=>b.displayToast("When using the /translate command, send both the original message and the translated message at once.","tooltip"),trailing:()=>n.createElement(ye,{value:e.getBoolean("DislateBothLangToggle",!1),style:{marginLeft:-K},onValueChange:()=>{e.toggle("DislateBothLangToggle",!1),w.open({content:`Now sending ${e.getBoolean("DislateBothLangToggle",!1)?"original and translated":"only translated"} message.`,source:u.Settings.Toasts.Settings})}})}))),n.createElement(re,{label:"Utility"},n.createElement(E,{style:x.container},n.createElement(y,{label:"Initialisation Toasts",leading:n.createElement(y.Icon,{style:x.icon,source:u.Settings.Initial}),subLabel:`Toggle initialisation toasts to display loading state of ${t.name}.`,onLongPress:()=>b.displayToast(`When Enmity is first started, show toasts based on ${t.name}'s current state (starting, failed, retrying, etc)`,"tooltip"),trailing:()=>n.createElement(ye,{value:e.getBoolean("toastEnable",!1),style:{marginLeft:-K},onValueChange:()=>{e.toggle("toastEnable",!1),w.open({content:`Successfully ${e.getBoolean("toastEnable",!1)?"enabled":"disabled"} Load Toasts.`,source:u.Settings.Toasts.Settings})}})}),n.createElement(O,null),n.createElement(y,{label:"Open Debug Info",subLabel:`Open useful page to copy debug information like version and build of ${t.name} to clipboard.`,onLongPress:()=>b.displayToast(`Copy the full debug log to clipboard including ${t.name}'s Version, Build, and Release, Enmity's Version and Build, etc.`,"tooltip"),leading:n.createElement(y.Icon,{style:x.icon,source:u.Copy}),trailing:()=>n.createElement(y.Arrow,{style:{marginLeft:-K}}),onPress:()=>{Ge({onConfirm:(r,l)=>{Qt.hideActionSheet(),pe.setString(r),b.displayToast(`${l}`,"clipboard")},type:"copy"})}}),n.createElement(O,null),n.createElement(y,{label:"Clear Stores",subLabel:`Void most of the settings and stores used throughout ${t.name} to store data locally.`,onLongPress:()=>b.displayToast(`Clear stores and settings throughout ${t.name} including the settings to hide popups forever and the list of device codes.`,"tooltip"),leading:n.createElement(y.Icon,{style:x.icon,source:u.Delete}),trailing:()=>n.createElement(y.Arrow,{style:{marginLeft:-K}}),onPress:async function(){var r,l;const m=(r=JSON.parse(h(t.name,"state_store",null)))!=null?r:[];for(let f=0;f<m.length;f++){const d=m[f];d.type==="storage"?await be.removeItem(d.name):B(t.name,d.name,(l=d.override)!=null?l:!1)}B(t.name,"state_store",null),w.open({content:`Cleared all ${t.name} stores.`,source:u.Settings.Toasts.Settings})}}))),n.createElement(re,{label:"Source"},n.createElement(E,{style:x.container},n.createElement(y,{label:"Check for Updates",subLabel:`Search for any ${t.name} updates and notify you if an update is available.`,onLongPress:()=>b.displayToast(`Search GitHub for any new version or build of ${t.name} and prompts you to update, and then prompts you to restart Enmity afterwards.`,"tooltip"),leading:n.createElement(y.Icon,{style:x.icon,source:u.Settings.Update}),trailing:()=>n.createElement(y.Arrow,{style:{marginLeft:-K}}),onPress:async function(){await It.checkForUpdates()}}),n.createElement(O,null),n.createElement(y,{label:"Source",subLabel:`Open the repository of ${t.name} externally.`,onLongPress:()=>b.displayToast(`Opens the repository of ${t.name} on GitHub in an external page to view any source code of the plugin.`,"tooltip"),leading:n.createElement(y.Icon,{style:x.icon,source:u.Open}),trailing:()=>n.createElement(y.Arrow,null),onPress:()=>{Zt.openURL(t.plugin.repo)}})))),n.createElement(R,{style:x.subheaderText},`Build: (${t.plugin.hash}) Release: (${t.release})`))};const[tn,nn,an,Xe]=lt(ee.byProps("getChannel","getDMFromUserId"),ee.byName("Icon"),ee.byProps("openLazy","hideActionSheet"),ee.byProps("Messages")),on=I("getMessage","getMessages"),$e=I("_currentDispatchActionType","_subscriptions","_actionHandlers","_waitQueue"),sn=fe("ActionSheet",{default:!1}),rn=I("EmojiRow"),ce=ct(v.name),Le=Object.assign({},...V.map((e,t)=>({[e]:X[t]})));let me=[{invalid_id:"rosie sucks"}];const Ze={...v,commands:[],patchActionSheet({unpatch:e,data:{message:t,res:a}}){var s,o,r,l,m,f,d,L,C,_,Z,Ce;e();let Q="Translate",ue=0;if(!(a!=null&&a.props))return console.log(`[${v.name} Local Error: Property "props" Does not Exist on "res"]`),a;const z=_e(a,A=>Array.isArray(A)&&A.find(T=>{var D;return typeof(T==null?void 0:T.key)=="string"&&typeof((D=T==null?void 0:T.props)==null?void 0:D.message)=="string"}));if(console.log(z),!z)return console.log(`[${v.name} Local Error: 'finalLocation' seems to be undefined!]`),a;Object.values(b.externalPlugins).forEach(A=>{z.find(T=>{if(T.key!==b.externalPlugins.dislate)return T.key===A})&&ue++});for(const A of[z.find(T=>{var D;return((D=T.props)==null?void 0:D.message)===Xe.Messages.MESSAGE_ACTION_REPLY}),z.find(T=>{var D;return((D=T.props)==null?void 0:D.message)===Xe.Messages.EDIT_MESSAGE})])A&&ue++;const M=on.getMessage((o=(s=t[0])==null?void 0:s.message)==null?void 0:o.channel_id,(l=(r=t[0])==null?void 0:r.message)==null?void 0:l.id);if(!(M!=null&&M.content)&&!((f=(m=t[0])==null?void 0:m.message)!=null&&f.content))return console.log(`[${v.name}] No message content.`),a;const ge=(C=M==null?void 0:M.id)!=null?C:(L=(d=t[0])==null?void 0:d.message)==null?void 0:L.id,Qe=(Ce=M==null?void 0:M.content)!=null?Ce:(Z=(_=t[0])==null?void 0:_.message)==null?void 0:Z.content,de=me.find(A=>Object.keys(A)[0]===ge,"cache object");Q=de?"Revert":"Translate";const et=n.createElement(y,{key:b.externalPlugins.dislate,label:Q,leading:n.createElement(nn,{source:Q==="Translate"?u.Translate:u.Revert}),onPress:()=>{const A=h(v.name,"DislateLangFrom","detect"),T=h(v.name,"DislateLangTo","english"),D=Q==="Translate";ne.string(M.content,{fromLanguage:A,toLanguage:T},Le,!D).then(tt=>{const nt={type:"MESSAGE_UPDATE",message:{...M,content:`${D?tt:de[ge]} ${D?`\`[${te(v.name,"DislateLangAbbr",!1)?Le[T].toUpperCase():S.string(T)}]\``:""}`,guild_id:tn.getChannel(M.channel_id).guild_id},log_edit:!1};$e.dispatch(nt),w.open({content:D?`Modified message to ${S.string(h(v.name,"DislateLangTo","english"))}.`:"Reverted message back to original state.",source:u.Translate}),D?me.unshift({[ge]:Qe}):me=me.filter(at=>at!==de,"cached data override")}),an.hideActionSheet()}});z.splice(ue,0,et)},onStart(){var e;this.commands=[Vt,Gt];let t=0;const a=3;try{t++;let s=te(v.name,"toastEnable",!1);try{$e==null||$e.dispatch({type:"MESSAGE_UPDATE",message:{}})}catch(o){console.error(`[${v.name} Local Error When Waking Up FluxDispatcher ${o}]`)}console.log(`[${v.name}] delayed start attempt ${t}/${a}.`),s&&((e=w)==null||e.open({content:`[${v.name}] start attempt ${t}/${a}.`,source:u.Debug}));try{parseInt(we.substring(0,3))>164?ce.after(sn,"default",(o,r,l)=>{const m=_e(l,d=>d.sheetKey);if((m==null?void 0:m.sheetKey)!=="MessageLongPressActionSheet")return;const f=ce.after(m==null?void 0:m.content,"type",(d,L,C)=>{!L||!C||this.patchActionSheet({unpatch:f,data:{message:L,res:C}})})}):ce.after(rn,"default",(o,r,l)=>{!r||!l||this.patchActionSheet({unpatch:()=>{},data:{message:r,res:l}})})}catch(o){console.error(`[${v.name}] Local ${o} At Intermediate Level`),s&&w.open({content:`[${v.name}] failed to open action sheet.`,source:u.Retry})}}catch(s){console.error(`[${v.name}] Local ${s} At Top Level`);let o=te(v.name,"toastEnable",!1);if(t<a){const r=`[${v.name}] failed to initialise. Trying again in ${t}0s.`;console.warn(r),o&&w.open({content:r,source:u.Retry}),setTimeout(this.initializeActionSheet(),t*1e4)}else{const r=`[${v.name}] failed to initialise. Giving up.`;console.error(r),o&&w.open({content:r,source:u.Failed})}}},onStop(){ce.unpatchAll(),this.commands=[]},renderPage(e,{pageName:t,pagePanel:a}){var s;return(s=e==null?void 0:e.push)==null?void 0:s.call(e,"EnmityCustomPage",{pageName:t,pagePanel:a})},getSettingsPanel({settings:e}){return n.createElement(en,{settings:e,manifest:v,renderPage:Ze.renderPage,languages:Le})}};rt(Ze);
