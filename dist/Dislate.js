const{components:u}=window.enmity;u.Alert,u.Button,u.FlatList;const Ke=u.Image;u.ImageBackground,u.KeyboardAvoidingView,u.Modal,u.Pressable,u.RefreshControl;const kt=u.ScrollView;u.SectionList,u.StatusBar,u.StyleSheet,u.Switch;const E=u.Text;u.TextInput,u.TouchableHighlight;const R=u.TouchableOpacity;u.TouchableWithoutFeedback,u.Touchable;const _=u.View;u.VirtualizedList,u.Form,u.FormArrow,u.FormCTA,u.FormCTAButton,u.FormCardSection,u.FormCheckbox;const H=u.FormDivider;u.FormHint,u.FormIcon,u.FormInput,u.FormLabel,u.FormRadio;const d=u.FormRow;u.FormSection,u.FormSelect,u.FormSubLabel;const Be=u.FormSwitch;u.FormTernaryCheckBox,u.FormText,u.FormTextColors,u.FormTextSizes;function Et(e){window.enmity.plugins.registerPlugin(e)}const O={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,t)=>window.enmity.modules.filters.byName(e,t),byTypeName:(e,t)=>window.enmity.modules.filters.byTypeName(e,t),byDisplayName:(e,t)=>window.enmity.modules.filters.byDisplayName(e,t)};function oe(...e){return window.enmity.modules.bulk(...e)}function Je(...e){return window.enmity.modules.getByProps(...e)}function We(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common;const g=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets;const Xe=window.enmity.modules.common.Messages;window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars;const K=window.enmity.modules.common.Native,a=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher;const $=window.enmity.modules.common.Storage,p=window.enmity.modules.common.Toasts,V=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token;const Qe=window.enmity.modules.common.REST;window.enmity.modules.common.Settings,window.enmity.modules.common.Users;const U=window.enmity.modules.common.Navigation,_t=window.enmity.modules.common.NavigationNative,Ze=window.enmity.modules.common.NavigationStack;window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const M=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function St(e){return window.enmity.patcher.create(e)}var s="Dislate",J="1.2.1",$t="Translates text into a desired language.",et="stable",Tt=[{name:"Acquite <3",id:"581573474296791211",profile:"https://github.com/acquitelol/"}],B={download:"https://raw.githubusercontent.com/acquitelol/dislate/main/dist/Dislate.js",repo:"https://github.com/acquitelol/dislate",build:"patch-1.6.8"},Dt="#ff1f84",f={name:s,version:J,description:$t,release:et,authors:Tt,plugin:B,color:Dt};function A(e,t,o){window.enmity.settings.set(e,t,o)}function b(e,t,o){return window.enmity.settings.get(e,t,o)}function I(e,t,o){return window.enmity.settings.getBoolean(e,t,o)}var Lt=["auto","aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh-cn","zh-tw","zu"],tt={auto:"auto",aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",cha:"ch",che:"ce",chi:"zh",chis:"zh-cn",chit:"zh-tw",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cze:"cs",dan:"da",div:"dv",dut:"nl",dzo:"dz",eng:"en",epo:"eo",est:"et",ewe:"ee",fao:"fo",fij:"fj",fin:"fi",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mlg:"mg",mlt:"mt",mon:"mn",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zul:"zu"},P={detect:"auto",afar:"aa",abkhazian:"ab",afrikaans:"af",akan:"ak",albanian:"sq",amharic:"am",arabic:"ar",aragonese:"an",armenian:"hy",assamese:"as",avaric:"av",avestan:"ae",aymara:"ay",azerbaijani:"az",bashkir:"ba",bambara:"bm",basque:"eu",belarusian:"be",bengali:"bn","bihari languages":"bh",bislama:"bi",tibetan:"bo",bosnian:"bs",breton:"br",bulgarian:"bg",burmese:"my",catalan:"ca",valencian:"ca",czech:"cs",chamorro:"ch",chechen:"ce",chinese_simplified:"zh-cn",chinese_traditional:"zh-tw",church_slavic:"cu",old_slavonic:"cu",church_slavonic:"cu",old_bulgarian:"cu",old_church_slavonic:"cu",chuvash:"cv",cornish:"kw",corsican:"co",cree:"cr",welsh:"cy",danish:"da",german:"de",divehi:"dv",dhivehi:"dv",maldivian:"dv",dutch:"nl",flemish:"nl",dzongkha:"dz",greek:"el",english:"en",esperanto:"eo",estonian:"et",ewe:"ee",faroese:"fo",persian:"fa",fijian:"fj",finnish:"fi",french:"fr",western_frisian:"fy",fulah:"ff",georgian:"ka",gaelic:"gd",scottish_gaelic:"gd",irish:"ga",galician:"gl",manx:"gv",guarani:"gn",gujarati:"gu",haitian:"ht",haitian_creole:"ht",hausa:"ha",hebrew:"he",herero:"hz",hindi:"hi",hiri_motu:"ho",croatian:"hr",hungarian:"hu",igbo:"ig",icelandic:"is",ido:"io",sichuan_yi:"ii",nuosu:"ii",inuktitut:"iu",interlingue:"ie",occidental:"ie",interlingua:"ia",indonesian:"id",inupiaq:"ik",italian:"it",javanese:"jv",japanese:"ja",kalaallisut:"kl",greenlandic:"kl",kannada:"kn",kashmiri:"ks",kanuri:"kr",kazakh:"kk",central_khmer:"km",kikuyu:"ki",gikuyu:"ki",kinyarwanda:"rw",kirghiz:"ky",kyrgyz:"ky",komi:"kv",kongo:"kg",korean:"ko",kuanyama:"kj",kwanyama:"kj",kurdish:"ku",lao:"lo",latin:"la",latvian:"lv",limburgan:"li",limburger:"li",limburgish:"li",lingala:"ln",lithuanian:"lt",luxembourgish:"lb",letzeburgesch:"lb","luba-katanga":"lu",ganda:"lg",macedonian:"mk",marshallese:"mh",malayalam:"ml",maori:"mi",marathi:"mr",malay:"ms",malagasy:"mg",maltese:"mt",mongolian:"mn",nauru:"na",navajo:"nv",navaho:"nv",south_ndebele:"nr",north_ndebele:"nd",ndonga:"ng",nepali:"ne",norwegian_nynorsk:"nn",norwegian_bokm\u00E5l:"nb",norwegian:"no",chichewa:"ny",chewa:"ny",nyanja:"ny",occitan:"oc",ojibwa:"oj",oriya:"or",oromo:"om",ossetian:"os",ossetic:"os",panjabi:"pa",punjabi:"pa",pali:"pi",polish:"pl",portuguese:"pt",pushto:"ps",pashto:"ps",quechua:"qu",romansh:"rm",romanian:"ro",moldavian:"ro",moldovan:"ro",rundi:"rn",russian:"ru",sango:"sg",sanskrit:"sa",sinhala:"si",sinhalese:"si",slovak:"sk",slovenian:"sl",northern_sami:"se",samoan:"sm",shona:"sn",sindhi:"sd",somali:"so","sotho, Southern":"st",spanish:"es",castilian:"es",sardinian:"sc",serbian:"sr",swati:"ss",sundanese:"su",swahili:"sw",swedish:"sv",tahitian:"ty",tamil:"ta",tatar:"tt",telugu:"te",tajik:"tg",tagalog:"tl",thai:"th",tigrinya:"ti",tonga:"to",tswana:"tn",tsonga:"ts",turkmen:"tk",turkish:"tr",twi:"tw",uighur:"ug",uyghur:"ug",ukrainian:"uk",urdu:"ur",uzbek:"uz",venda:"ve",vietnamese:"vi",volap\u00FCk:"vo",walloon:"wa",wolof:"wo",xhosa:"xh",yiddish:"yi",yoruba:"yo",zhuang:"za",chuang:"za",zulu:"zu"},Ae=e=>{if(typeof e!="string")throw new Error(`The "language" must be a string, received ${typeof e}`);if(e.length>100)throw new Error(`The "language" is too long at ${e.length} characters`);if(e=e.toLowerCase(),e=P[e]||tt[e]||e,!Lt.includes(e))throw new Error(`The language "${e}" is not part of the ISO 639-1`);return e};function nt(){var e=Object.create(null),t=0;this.put=function(i,n,l,r){if(typeof l!="undefined"&&(typeof l!="number"||isNaN(l)||l<=0))throw new Error("Cache timeout must be a positive number");if(typeof r!="undefined"&&typeof r!="function")throw new Error("Cache timeout callback must be a function");var c=e[i];c?clearTimeout(c.timeout):t++;var h={value:n,expire:l+Date.now()};return isNaN(h.expire)||(h.timeout=setTimeout(function(){o(i),r&&r(i,n)}.bind(this),l)),e[i]=h,n},this.del=function(i){var n=!0,l=e[i];return l?(clearTimeout(l.timeout),!isNaN(l.expire)&&l.expire<Date.now()&&(n=!1)):n=!1,n&&o(i),n};function o(i){t--,delete e[i]}this.clear=function(){for(var i in e)clearTimeout(e[i].timeout);t=0,e=Object.create(null)},this.get=function(i){var n=e[i];if(typeof n!="undefined"){if(isNaN(n.expire)||n.expire>=Date.now())return n.value;t--,delete e[i]}return null}}const je=new nt;je.Cache=nt;const xt="https://translate.googleapis.com/translate_a/single";var Ct={fetch:({key:e,from:t,to:o,text:i})=>[`${xt}?client=gtx&sl=${t}&tl=${o}&dt=t&q=${encodeURI(i)}`],parse:e=>e.json().then(t=>{if(t=t&&t[0]&&t[0][0]&&t[0].map(o=>o[0]).join(""),!t)throw new Error("Translation not found");return t})},Rt={google:Ct};if(typeof fetch=="undefined")try{global.fetch=require("node-fetch")}catch{console.warn("Please make sure node-fetch is available")}const ie=function(e={}){if(!(this instanceof ie))return new ie(e);const t={from:"auto",to:"ja",cache:void 0,languages:Ae,engines:Rt,engine:"google",keys:{}},o=(i,n={})=>{typeof n=="string"&&(n={to:n}),n.text=i,n.from=Ae(n.from||o.from),n.to=Ae(n.to||o.to),n.cache=n.cache||o.cache,n.engines=n.engines||{},n.engine=n.engine||o.engine,n.url=n.url||o.url,n.id=n.id||`${n.url}:${n.from}:${n.to}:${n.engine}:${n.text}`,n.keys=n.keys||o.keys||{};for(let h in o.keys)n.keys[h]=n.keys[h]||o.keys[h];n.key=n.key||o.key||n.keys[n.engine];const l=n.engines[n.engine]||o.engines[n.engine],r=je.get(n.id);if(r)return Promise.resolve(r);if(n.to===n.from)return Promise.resolve(n.text);if(l.needkey&&!n.key)throw new Error(`The engine "${n.engine}" needs a key, please provide it`);const c=l.fetch(n);return fetch(...c).then(l.parse).then(h=>je.put(n.id,h,n.cache))};for(let i in t)o[i]=typeof e[i]=="undefined"?t[i]:e[i];return o},at=new ie;at.Translate=ie;async function ze(e,{fromLang:t="detect",toLang:o="english"},i){return i?e:await at(e,{from:P[t],to:P[o]})}const S=(e,t,o,i,n)=>{try{return e(...t)}catch(l){console.warn(`[${o}] The following error happened when trying to ${i} ${n!=null?n:"unspecificied label"}: ${l}`);return}},F=(e,t,o)=>S(()=>{if(e){for(let i=0;i<e.length;i++)if(t(e[i],i,t))return e[i]}},[e,t],s,"find an item at",o),se=(e,t,o,i)=>S(()=>{if(e){e.length++,o++;for(let n=e.length-1;n>=o;n--)e[n]=e[n-1];return e[o-1]=t,e.length}},[e,t,o],s,"insert an item at",i),Q=(e,t,o)=>S(()=>{let i=[];for(let n=0;n<e.length;n++)t(e[n],n,e)&&se(i,e[n],i.length,"filtering an array");return i},[e,t],s,"filtering an array at",o),Z=(e,t,o)=>{S(()=>{for(let i=0;i<e.length;i++)t(e[i],i,e)},[e,t],s,"loop through an array at",o)},Y=(e,t,o)=>S(()=>{let i=[];for(let n=0;n<e.length;n++)se(i,t(e[n],n,e),i.length);return i},[e,t],s,"map an array at",o),x=e=>Y(e.split("_"),t=>t[0].toUpperCase()+t.slice(1)).join(" "),It=(e,t)=>S(()=>{let o=Y(e.split(`
`),(i,n)=>{if(i!="")return`"${i.replaceAll(":",'":"').replace(" ","")}"${n==e.split(`
`).length-1?"":","}`},"formatting object");return o[0]=`{${o[0]}`,o[o.length-1]=`${o[o.length-1]}}`,o.join("")},[e],s,"formatting object at",t),Pt=(e,t)=>S(()=>{const o={};return Z(Object.keys(e),i=>{Object.assign(o,{[e[i]]:i})},"reversing object"),o},[e],s,"reversing object at",t);async function Oe(e,t){await S(async function(){var o;e.type==="storage"?await $.setItem(e.name,e.content):A(s,e.name,e.content);const i=(o=await $.getItem("dislate_store_state"))!==null&&o!==void 0?o:[];F(i,n=>n.name===e.name,"finding existing label in store state")||i.push(e),await $.setItem("dislate_store_state",JSON.stringify(i))},[e],s,"storing an item in plugin file or storage at",t)}async function ot(e){return await S(async function(){const t=await $.getItem("device_list");if(t)return JSON.parse(t);const o=(await Qe.get("https://gist.githubusercontent.com/adamawolf/3048717/raw/1ee7e1a93dff9416f6ff34dd36b0ffbad9b956e9/Apple_mobile_device_types.txt")).text,i=It(o,"fetching device list");return await Oe({name:"device_list",content:i,type:"storage"},"storing device list in storage"),JSON.parse(await $.getItem("device_list"))},[],s,"get the device list",e)}async function Ft(e){await S(async function(){let t=K.DCDDeviceManager.device,o=await ot();if(!t.includes("iPhone"))return;t=t.replace("iPhone","").replace(",",".");const i=parseFloat(t);async function n(){await $.getItem("dislate_incompatible_dialog")!=null||V.show({title:"Incompatible iPhone",body:`Please note that you're on an${o[K.DCDDeviceManager.device]}.
Some features of ${s} may behave in an unexpected manner.`,confirmText:"I understand",onConfirm:await Oe({name:"dislate_incompatible_dialog",content:"never show again until cleared",type:"storage"},"storing incompatible dialog to storage")})}(i<10.6&&i!=10.3||i==14.6||i==12.8)&&await n()},[],s,"checking if device is compatible",e)}function y(e){return window.enmity.assets.getIDByName(e)}const m={Translate:y("img_nitro_star"),Revert:y("ic_highlight"),Debug:y("debug"),Retry:y("ic_message_retry"),Failed:y("Small"),Cancel:y("ic_megaphone_nsfw_16px"),Delete:y("ic_message_delete"),Copy:y("toast_copy_link"),Open:y("ic_leave_stage"),Clipboard:y("pending-alert"),Add:y("ic_add_perk_24px"),Debug_Command:{Clock:y("clock")},Settings:{Toasts:{Context:y("toast_image_saved"),Settings:y("ic_selection_checked_24px"),Failed:y("ic_close_circle_24px")},Translate_From:y("ic_raised_hand_list"),Translate_To:y("ic_activity_24px"),Debug:y("ic_rulebook_16px"),Initial:y("coffee"),Update:y("ic_upload"),Locale:y("ic_locale_24px")}};async function W(){const e=await ot();return{"Plugin Version":J,"Plugin Build":B.build.split("-")[1],"Release Channel":et,"Discord Version":K.InfoDictionaryManager.Version,"Discord Build":K.InfoDictionaryManager.Build,"Software Version":K.DCDDeviceManager.systemVersion,Device:e[K.DCDDeviceManager.device]}}async function Ve(e,t){return await S(async function(){let o=[`**[${s}] Debug Information**`];const i=await W();return Z(e,n=>{i[n]&&se(o,`> **${n}**: ${i[n]}`,o.length,"pushing to debug argument array")},"looping through debug options"),o.join(`
`)},[e],s,"creating debug info at",t)}async function re(e,{channel_id:t,channel_name:o},i,n){await S(async function(){U.pop(),Xe.sendMessage(t,{content:await Ve(e)}),p.open({content:`Sent ${i} log in #${o}.`,source:m.Settings.Toasts.Settings})},[e,i],s,"sending debug log at",n)}const Nt={message_spoofer:"69",copy_embed:"1337",invis_chat:"420",cut_message:"512",dislate:"1002"},ee={shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:.1,shadowRadius:4.65,elevation:8},T=(e,t)=>p.open({content:t=="clipboard"?`Copied ${e} to clipboard.`:e,source:t=="clipboard"?m.Clipboard:m.Settings.Initial}),Mt=(e,t,o,i=186,n)=>S(()=>{let l=e.replace("#","");const r=(D,N,L)=>parseInt(D.substring(N[0],N[1]),L),c=r(l,[0,2],16),h=r(l,[2,4],16),k=r(l,[4,6],16);return(c+h+k)/(255*3)>i?o:t},[e,t,o,i],s,"checking if color should be light or dark at",n),{native:te}=window.enmity;function Bt(){te.reload()}te.version,te.build,te.device,te.version;var G;(function(e){e[e.version=0]="version",e[e.build=1]="build"})(G||(G={}));async function At(){await S(async function(){const e=`${B.download}?${Math.floor(Math.random()*1001)}.js`,t=await(await Qe.get(e)).text,o=t.match(/\d\.\d\.\d+/g)[0],i=t.match(/patch-\d\.\d\.\d+/g)[0];return!o||!i?st(s,[J,B.build]):o!=J?it(e,o,G.version):i!=B.build?it(e,i.split("-")[1],G.build):st(s,[J,B.build])},[B],s,"checking if latest version at","the async check for updates callback")}const it=(e,t,o)=>{const i=o==G.build;V.show({title:"Update found",body:`A newer ${i?"build":"version"} is available for ${s}. ${i?`
The version will remain at ${J}, but the build will update to ${t}.`:""}
Would you like to install ${i?"build":"version"} \`${t}\` now?`,confirmText:"Update",cancelText:"Not now",onConfirm:()=>jt(e,t,o)})},st=(e,t)=>{console.log(`[${e}] Plugin is on the latest update, which is version ${t[0]} and build ${t[1]}`),V.show({title:"Already on latest",body:`${e} is already updated to the latest version.
Version: \`${t[0]}\`
Build: \`${t[1].split("-")[1]}\``,confirmText:"Okay"})};async function jt(e,t,o){await S(async function(){window.enmity.plugins.installPlugin(e,({data:i})=>{i=="installed_plugin"||i=="overridden_plugin"?V.show({title:`Updated ${s}`,body:`Successfully updated to ${o==G.build?"build":"version"} \`${t}\`. 
Would you like to reload Discord now?`,confirmText:"Reload",cancelText:"Not now",onConfirm:()=>Bt()}):console.log(`[Dislate] Plugin failed to update to ${o==G.build?"build":"version"} ${t}.`)})},[e,t,o],s,"installing plugin at","new version available")}function zt(e,t,o,i){window.enmity.clyde.sendReply(e,t,o,i)}var rt;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.Guild=1]="Guild",e[e.DM=2]="DM"})(rt||(rt={}));var le;(function(e){e[e.Chat=1]="Chat",e[e.User=2]="User",e[e.Message=3]="Message"})(le||(le={}));var ce;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.BuiltInText=1]="BuiltInText",e[e.BuiltInIntegration=2]="BuiltInIntegration",e[e.Bot=3]="Bot",e[e.Placeholder=4]="Placeholder"})(ce||(ce={}));var lt;(function(e){e[e.Role=1]="Role",e[e.User=2]="User"})(lt||(lt={}));var ne;(function(e){e[e.SubCommand=1]="SubCommand",e[e.SubCommandGroup=2]="SubCommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionnable=9]="Mentionnable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(ne||(ne={}));var ct;(function(e){e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent"})(ct||(ct={}));const Ot=Y(Q(Object.keys(P),e=>e!=="detect","filter for everything except for detect"),e=>({name:x(e),displayName:x(e),value:e}),"language names"),Vt={id:"translate",name:"translate",displayName:"translate",description:`Send a message using ${s} in any language chosen, using the Google Translate API.`,displayDescription:`Send a message using ${s} in any language chosen, using the Google Translate API.`,type:le.Chat,inputType:ce.BuiltInText,options:[{name:"text",displayName:"text",description:`The text/message for ${s} to translate. Please note some formatting of mentions and emojis may break due to the API.`,displayDescription:`The text/message for ${s} to translate. Please note some formatting of mentions and emojis may break due to the API.`,type:ne.String,required:!0},{name:"language",displayName:"language",description:`The language that ${s} will translate the text into. This can be any language from the list, except "Detect".`,displayDescription:`The language that ${s} will translate the text into. This can be any language from the list, except "Detect".`,type:ne.String,choices:[...Ot],required:!0}],execute:async function(e,t){const o=F(e,r=>r.name=="text","translate text").value,i=F(e,r=>r.name=="language","translate language").value,n=await ze(o,{fromLang:b(s,"DislateLangFrom","detect"),toLang:i}),l=await ze(n,{fromLang:b(s,"DislateLangFrom","detect"),toLang:b(s,"DislateLangTo","english")});return!n||!l?(zt(t.channel.id,`Failed to send message in #${t.channel.name}`),{}):(V.show({title:"Are you sure?",body:`The message **about to be sent** is:
\`${n}\`

In **${x(b(s,"DislateLangTo","english"))}**, this will translate to:
\`${l}\`

${b(s,"DislateBothLangToggle",!1)?`**Note: Sending original and translated**
`:""}Are you sure you want to send this?`,confirmText:"Yeah, send it",cancelText:"Nope, don't send it",onConfirm:()=>{Xe.sendMessage(t.channel.id,{content:b(s,"DislateBothLangToggle",!1)?`${o}

${n}`:n}),p.open({content:`Sent message in #${t.channel.name}, which was translated into ${x(i)}.`,source:m.Translate})},onCancel:()=>{p.open({content:"Cancelled translated message request.",source:m.Cancel})}}),{})}},ue=window.enmity.modules.common.Components.General.Animated;var Ut=({option:e,channel_id:t,channel_name:o})=>{const[i,n]=a.useState(I(s,e,!1)),[l,r]=a.useState([]),c=M.createThemedStyleSheet({icon:{color:g.ThemeColorMap.INTERACTIVE_NORMAL},item_disabled:{color:g.ThemeColorMap.TEXT_MUTED},item_enabled:{color:g.ThemeColorMap.INTERACTIVE_NORMAL}});a.useEffect(async function(){r(await W())},[]);const h=[1,1.01],k=a.useRef(new ue.Value(h[I(s,e,!1)?1:0])).current,D=()=>ue.spring(k,{toValue:h[1],duration:250,useNativeDriver:!0}).start(),N=()=>ue.spring(k,{toValue:h[0],duration:250,useNativeDriver:!0}).start(),L={transform:[{scale:k}]};return a.createElement(R,{onPress:()=>{I(s,e,!1)?A(s,e,!1):A(s,e,!0),I(s,e,!1)?D():N(),n(I(s,e,!1))},onLongPress:async function(){await re([e],{channel_id:t,channel_name:o},"single","single log in DebugItem Component.")},onPressIn:D,onPressOut:N},a.createElement(ue.View,{style:[L]},a.createElement(d,{key:e,label:e,leading:a.createElement(d.Icon,{style:c.icon,source:i?m.Settings.Toasts.Settings:m.Settings.Toasts.Failed}),trailing:()=>a.createElement(_,null,a.createElement(E,{style:[{padding:10},i?c.item_enabled:c.item_disabled]},l[e]))})))};const Ue=window.enmity.modules.common.Components.General.Animated,Yt=window.enmity.modules.common.Components.General.Easing;var ut=({label:e,content:t,type:o})=>{var i;const n=M.createThemedStyleSheet({button:{width:"92%",borderRadius:10,marginLeft:"4%",marginRight:"4%",...ee},text:{color:"#f2f2f2",textAlign:"left",letterSpacing:.25,padding:10},text_header:{fontSize:20,fontFamily:g.Fonts.PRIMARY_BOLD},text_content:{fontSize:16,fontFamily:g.Fonts.PRIMARY_NORMAL},image:{width:25,height:25,borderRadius:4,position:"absolute",right:0,margin:10}}),l=a.useRef(new Ue.Value(1)).current,r=()=>{const k=()=>Ue.timing(l,{toValue:0,duration:250,useNativeDriver:!0,easing:Yt.sin}).start();V.show({title:"Close Tip?",body:"You can either hide this information box forever, or just hide it until you open this page again.",confirmText:"Hide",cancelText:"Don't show again",onConfirm:()=>{k()},onCancel:async function(){await Oe({name:e,content:!0,type:"setting"},`storing dialog at ${e} in Dialog component`),k()}})},c={standard:{backgroundColor:"rgba(0, 0, 0, 0.5)",marginTop:20},floating:{position:"absolute",bottom:0,marginBottom:30,backgroundColor:"rgba(0, 0, 0, 0.8)"}},h={transform:[{scale:l}]};return b(s,e,!1)?a.createElement(a.Fragment,null):a.createElement(a.Fragment,null,a.createElement(Ue.View,{style:h},a.createElement(R,{style:[n.button,(i=c[o])!==null&&i!==void 0?i:c.standard],onPress:r},a.createElement(_,{style:{width:"100%",flexDirection:"row"}},a.createElement(Ke,{style:n.image,source:{uri:"https://i.imgur.com/rl1ga06.png"}})),a.createElement(E,{style:[n.text,n.text_header]},e),a.createElement(E,{style:[n.text,n.text_content]},t))))},Ye=({component:e})=>{const[t,o]=a.useState(),[i,n]=a.useState();return a.createElement(kt,{onTouchStart:l=>{o(l.nativeEvent.pageX),n(l.nativeEvent.pageY)},onTouchEnd:l=>{t-l.nativeEvent.pageX<-100&&i-l.nativeEvent.pageY<40&&i-l.nativeEvent.pageY>-40&&U.pop()}},e)},me=({label:e,component:t})=>{const o=M.createThemedStyleSheet({text:{color:g.ThemeColorMap.HEADER_SECONDARY,paddingLeft:"5.5%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:g.Fonts.PRIMARY_BOLD,fontSize:12}});return a.createElement(_,{style:{marginTop:10}},a.createElement(E,{style:[o.text,o.optionText]},e.toUpperCase()),t)};const Gt=We("StaticSearchBarContainer");var qt=({channel_id:e,channel_name:t})=>{const[o,i]=a.useState([]),[n,l]=a.useState([]);a.useEffect(async function(){i(Object.keys(await W()))},[]);const r=M.createThemedStyleSheet({button:{width:"90%",height:50,justifyContent:"center",alignItems:"center",backgroundColor:g.ThemeColorMap.HEADER_PRIMARY,borderRadius:10,marginLeft:"5%",marginRight:"5%",marginTop:20},text:{color:Mt(g.ThemeColorMap.HEADER_PRIMARY[0],"#f2f2f2","#121212",.8,"buttons in debug info menu"),textAlign:"center",paddingLeft:10,paddingRight:10,letterSpacing:.25,fontFamily:g.Fonts.PRIMARY_BOLD},buttonText:{fontSize:16},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,...ee}});return a.createElement(a.Fragment,null,a.createElement(Gt,{placeholder:"Search Options",onChangeText:c=>l(c)}),a.createElement(Ye,{component:a.createElement(_,{style:{marginBottom:100}},a.createElement(me,{label:"Options",component:a.createElement(a.Fragment,null,a.createElement(_,{style:r.container},Y(Q(o,c=>c.toLowerCase().includes(n)),c=>a.createElement(Ut,{option:c,channel_id:e,channel_name:t}),"list of debug information options"),a.createElement(H,null)))}),a.createElement(R,{style:r.button,onPress:async function(){await re(o,{channel_id:e,channel_name:t},"full","full log in Info Component.")}},a.createElement(E,{style:[r.text,r.buttonText]},"Send All")),a.createElement(R,{style:r.button,onPress:async function(){const c=Q(o,h=>I(s,h,!1),"filtering chosen debug options");await re(c,{channel_id:e,channel_name:t},"partial","partial log in Info Component.")}},a.createElement(E,{style:[r.text,r.buttonText]},"Send Message")),a.createElement(ut,{label:"Information",content:`You can either tap on each item to toggle it and press "Send Message", or you can long-press on an item to only send that item.

To close this dialog, press on it.`,type:"standard"}))}))};const mt=Ze.createStackNavigator();var Ge=({name:e="Page",component:t=_}={})=>{const o=M.createThemedStyleSheet({container:{backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,flex:.5},card:{backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_PRIMARY,color:g.ThemeColorMap.TEXT_NORMAL},header:{backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,shadowColor:"transparent",elevation:0},close:{color:g.ThemeColorMap.HEADER_PRIMARY,fontFamily:g.Fonts.PRIMARY_NORMAL,fontSize:16,marginLeft:20,backgroundColor:"transparent"}});return a.createElement(_t.NavigationContainer,null,a.createElement(mt.Navigator,{initialRouteName:e,style:o.container,screenOptions:{cardOverlayEnabled:!1,cardShadowEnabled:!1,cardStyle:o.card,headerStyle:o.header,headerTitleContainerStyle:{color:g.ThemeColorMap.HEADER_PRIMARY},headerTitleAlign:"center",safeAreaInsets:{top:0}}},a.createElement(mt.Screen,{name:e,component:t,options:{headerTitleStyle:{color:"white",fontFamily:g.Fonts.PRIMARY_NORMAL},headerLeft:()=>a.createElement(E,{style:o.close,onPress:()=>{U.pop()}},"Close"),...Ze.TransitionPresets.ModalSlideFromBottomIOS}})))};const[Ht]=oe(O.byProps("setString")),gt=(e,t)=>({debug:()=>{V.show({title:"Choose extra options",body:'You can customize the information sent with this command. If you do not want to customize the debug log, press "`Ignore`" instead to send the full log.',confirmText:"Customize",cancelText:"Ignore",onConfirm:async function(){const o=()=>a.createElement(qt,{channel_id:e,channel_name:t});U.push(Ge,{component:o,name:`${s}: Customize`})},onCancel:async function(){const o=await W();await re(Object.keys(o),{channel_id:e,channel_name:t},"full","full log in Info Command.")}})},clear_stores:async function(){var o;const i=(o=JSON.parse(await $.getItem("dislate_store_state")))!==null&&o!==void 0?o:[];Z(i,async function(n){n.type==="storage"?await $.removeItem(n.name):A(s,n.name,!1)},"clearing state store"),await $.removeItem("dislate_store_state"),p.open({content:`Cleared all ${s} stores.`,source:m.Settings.Toasts.Settings})},download:()=>{Ht.setString(`${B.download}?${Math.floor(Math.random()*1001)}.js`),T("download link","clipboard")}}),Kt=Y(Object.keys(gt("8008135","placebo")),e=>({name:x(e),displayName:x(e),value:e}),"debug options formatted as a command format"),Jt={id:`${s.toLowerCase()}`,name:`${s.toLowerCase()}`,displayName:`${s.toLowerCase()}`,description:`Choose from a list of options for debugging in ${s}.`,displayDescription:`Choose from a list of options for debugging in ${s}.`,type:le.Chat,inputType:ce.BuiltInText,options:[{name:"type",displayName:"type",description:"The type of command to execute.",displayDescription:"The type of command to execute.",type:ne.String,choices:[...Kt],required:!0}],execute:async function(e,t){var o;const i=F(e,r=>r.name=="type").value,n=gt(t.channel.id,t.channel.name),l=()=>{p.open({content:"Invalid command argument.",source:m.Debug_Command.Clock})};return((o=n[i])!==null&&o!==void 0?o:l)(),{}}},ge=window.enmity.modules.common.Components.General.Animated,[qe,Wt]=oe(O.byProps("transitionToGuild"),O.byProps("setString"));var Xt=({name:e,version:t,plugin:o,authors:i})=>{const n=M.createThemedStyleSheet({container:{marginTop:25,marginLeft:"5%",marginBottom:-15,flexDirection:"row"},text_container:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap",...ee},image:{width:75,height:75,borderRadius:10,...ee},main_text:{opacity:.975,letterSpacing:.25},header:{color:g.ThemeColorMap.HEADER_PRIMARY,fontFamily:g.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},sub_header:{color:g.ThemeColorMap.HEADER_SECONDARY,fontSize:12.75}}),l=a.useRef(new ge.Value(1)).current,r=()=>ge.spring(l,{toValue:1.1,duration:10,useNativeDriver:!0}).start(),c=()=>ge.spring(l,{toValue:1,duration:250,useNativeDriver:!0}).start(),h=()=>qe.openURL(o.repo),k={transform:[{scale:l}]};return a.createElement(a.Fragment,null,a.createElement(_,{style:n.container},a.createElement(R,{onPress:h,onPressIn:r,onPressOut:c},a.createElement(ge.View,{style:k},a.createElement(Ke,{style:[n.image],source:{uri:"https://i.imgur.com/rl1ga06.png"}}))),a.createElement(_,{style:n.text_container},a.createElement(R,{onPress:()=>qe.openURL(o.repo)},a.createElement(E,{style:[n.main_text,n.header]},e)),a.createElement(_,{style:{flexDirection:"row"}},a.createElement(E,{style:[n.main_text,n.sub_header]},"A project by"),Y(i,(D,N,L)=>a.createElement(R,{onPress:()=>qe.openURL(D.profile)},a.createElement(E,{style:[n.main_text,n.sub_header,{paddingLeft:4,fontFamily:g.Fonts.DISPLAY_BOLD,flexDirection:"row"}]},D.name,N<L.length-1?",":null)))),a.createElement(_,null,a.createElement(R,{style:{flexDirection:"row"},onPress:async function(){const D=await W();Wt.setString(await Ve(Object.keys(D))),T("debug information","clipboard")}},a.createElement(E,{style:[n.main_text,n.sub_header]},"Version:"),a.createElement(E,{style:[n.main_text,n.sub_header,{paddingLeft:4,fontFamily:g.Fonts.DISPLAY_BOLD}]},t))))))};const de=window.enmity.modules.common.Components.General.Animated;var Qt=({language:e})=>{const t=a.useRef(new de.Value(1)).current,o=()=>de.spring(t,{toValue:1.05,duration:250,useNativeDriver:!0}).start(),i=()=>de.spring(t,{toValue:1,duration:250,useNativeDriver:!0}).start(),n={transform:[{scale:t}]},l=M.createThemedStyleSheet({container:{width:"95%",marginLeft:"2.5%",borderRadius:10,marginTop:15,backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY}}),r=c=>{A(s,`DislateLang${b(s,"DislateLangFilter")?"To":"From"}`,c),p.open({content:`Set ${P[c].toUpperCase()} as Language to Translate ${b("Dislate","DislateLangFilter")?"to":"from"}.`,source:b(s,"DislateLangFilter")?m.Settings.Translate_To:m.Settings.Translate_From}),U.pop()};return a.createElement(a.Fragment,null,a.createElement(a.Fragment,null,a.createElement(R,{onPress:()=>r(e),onLongPress:()=>r(e),onPressIn:o,onPressOut:i},a.createElement(de.View,{style:[n,l.container]},a.createElement(d,{label:x(e),subLabel:`Aliases: ${P[e]}, ${Pt(tt,"creating aliases for language names")[P[e]]}`,trailing:d.Arrow,leading:a.createElement(d.Icon,{style:{color:g.ThemeColorMap.INTERACTIVE_NORMAL},source:e==b(s,`DislateLang${b(s,"DislateLangFilter")?"To":"From"}`)?m.Settings.Toasts.Settings:m.Add})})))))};const Zt=We("StaticSearchBarContainer");var dt=()=>{const[e,t]=a.useState([]),[o,i]=a.useState([]);return a.useEffect(()=>{t(Object.keys(P))},[]),a.createElement(a.Fragment,null,a.createElement(Zt,{placeholder:"Search Language",onChangeText:n=>i(n)}),a.createElement(Ye,{component:a.createElement(a.Fragment,null,a.createElement(_,{style:{marginBottom:15}},Y(Q(e,n=>n.toLowerCase().includes(o),"getting searched languages"),n=>b(s,"DislateLangFilter")&&n=="detect"?a.createElement(a.Fragment,null):a.createElement(Qt,{language:n}),"listing different possible languages")))}),a.createElement(ut,{label:"Important",content:`You can either press or long-press on an item to select it as the language to translate ${b(s,"DislateLangFilter")?"to":"from"}. Your current selected language has a \u2713 next to it.

To hide this dialog, press on it.`,type:"floating"}))};const[en,tn]=oe(O.byProps("transitionToGuild"),O.byProps("setString"));var nn=({settings:e,manifest:{name:t,version:o,plugin:i,authors:n,release:l}})=>{const r=M.createThemedStyleSheet({icon:{color:g.ThemeColorMap.INTERACTIVE_NORMAL},item:{color:g.ThemeColorMap.TEXT_MUTED},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:g.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,...ee},subheaderText:{color:g.ThemeColorMap.HEADER_SECONDARY,textAlign:"center",margin:10,marginBottom:50,letterSpacing:.25,fontFamily:g.Fonts.PRIMARY_BOLD,fontSize:14}});return a.createElement(a.Fragment,null,a.createElement(Ye,{component:a.createElement(a.Fragment,null,a.createElement(Xt,{name:t,version:o,plugin:i,authors:n}),a.createElement(_,{style:{marginTop:20}},a.createElement(me,{label:"Language",component:a.createElement(a.Fragment,null,a.createElement(_,{style:r.container},a.createElement(d,{label:"Translate From",leading:a.createElement(d.Icon,{style:r.icon,source:m.Settings.Translate_From}),trailing:()=>{var c;return a.createElement(E,{style:r.item},(c=x(b(t,"DislateLangFrom","detect")))!==null&&c!==void 0?c:"N/A")},onPress:()=>{A(t,"DislateLangFilter",!1),U.push(Ge,{component:dt,name:`${t}: Language From`})},onLongPress:()=>T('Open a new page allowing you to choose a language that you can translate from. The default is "Detect".',"tooltip")}),a.createElement(H,null),a.createElement(d,{label:"Translate To",leading:a.createElement(d.Icon,{style:r.icon,source:m.Settings.Translate_To}),trailing:()=>{var c;return a.createElement(E,{style:r.item},(c=x(b(t,"DislateLangTo","english")))!==null&&c!==void 0?c:"N/A")},onPress:()=>{A(t,"DislateLangFilter",!0),U.push(Ge,{component:dt,name:`${t}: Language To`})},onLongPress:()=>T('Open a new page allowing you to choose a language that you can translate to. The default is "English".',"tooltip")}),a.createElement(H,null),a.createElement(d,{label:"Abbreviate Language",leading:a.createElement(d.Icon,{style:r.icon,source:m.Retry}),subLabel:"Label language in a shorter form when translating (English \u279D EN).",onLongPress:()=>T("Convert the full language name to an abbreviation when translating someone else's message. (test [English] \u279D test [EN])","tooltip"),trailing:a.createElement(Be,{value:e.getBoolean("DislateLangAbbr",!1),onValueChange:()=>{e.toggle("DislateLangAbbr",!1),p.open({content:`Successfully ${e.getBoolean("DislateLangAbbr",!1)?"enabled":"disabled"} language abbreviations.`,source:m.Settings.Toasts.Settings})}})}),a.createElement(d,{label:"Send Original",leading:a.createElement(d.Icon,{style:r.icon,source:m.Settings.Locale}),subLabel:"Send both the Original and Translated message when using /translate.",onLongPress:()=>T("When using the /translate command, send both the original message and the translated message at once.","tooltip"),trailing:a.createElement(Be,{value:e.getBoolean("DislateBothLangToggle",!1),onValueChange:()=>{e.toggle("DislateBothLangToggle",!1),p.open({content:`Now sending ${e.getBoolean("DislateBothLangToggle",!1)?"original and translated":"only translated"} message.`,source:m.Settings.Toasts.Settings})}})})))}),a.createElement(me,{label:"Utility",component:a.createElement(a.Fragment,null,a.createElement(_,{style:r.container},a.createElement(d,{label:"Initialisation Toasts",leading:a.createElement(d.Icon,{style:r.icon,source:m.Settings.Initial}),subLabel:`Toogle initialisation toasts to display loading state of ${t}.`,onLongPress:()=>T(`When Enmity is first started, show toasts based on ${t}'s current state (starting, failed, retrying, etc)`,"tooltip"),trailing:a.createElement(Be,{value:e.getBoolean("toastEnable",!1),onValueChange:()=>{e.toggle("toastEnable",!1),p.open({content:`Successfully ${e.getBoolean("toastEnable",!1)?"enabled":"disabled"} Load Toasts.`,source:m.Settings.Toasts.Settings})}})}),a.createElement(H,null),a.createElement(d,{label:"Copy Debug Info",subLabel:`Copy useful debug information like version and build of ${t} to clipboard.`,onLongPress:()=>T(`Copy the full debug log to clipboard including ${t}'s Version, Build, and Release, Enmity's Version and Build, etc.`,"tooltip"),leading:a.createElement(d.Icon,{style:r.icon,source:m.Copy}),trailing:d.Arrow,onPress:async function(){const c=await W();tn.setString(await Ve(Object.keys(c))),T("debug information","clipboard")}}),a.createElement(H,null),a.createElement(d,{label:"Clear Stores",subLabel:`Void most of the settings and stores used throughout ${t} to store data locally.`,onLongPress:()=>T(`Clear stores and settings throughout ${t} including the settings to hide popups forever and the list of device codes.`,"tooltip"),leading:a.createElement(d.Icon,{style:r.icon,source:m.Delete}),trailing:d.Arrow,onPress:async function(){var c;const h=(c=JSON.parse(await $.getItem("dislate_store_state")))!==null&&c!==void 0?c:[];Z(h,async function(k){k.type==="storage"?await $.removeItem(k.name):A(t,k.name,!1)},"clearing state store"),await $.removeItem("dislate_store_state"),p.open({content:`Cleared all ${t} stores.`,source:m.Settings.Toasts.Settings})}})))}),a.createElement(me,{label:"Source",component:a.createElement(a.Fragment,null,a.createElement(_,{style:r.container},a.createElement(d,{label:"Check for Updates",subLabel:`Search for any ${t} updates and notify you if an update is available.`,onLongPress:()=>T(`Search GitHub for any new version or build of ${t} and prompts you to update, and then prompts you to restart Enmity afterwards.`,"tooltip"),leading:a.createElement(d.Icon,{style:r.icon,source:m.Settings.Update}),trailing:d.Arrow,onPress:async function(){await At()}}),a.createElement(H,null),a.createElement(d,{label:"Source",subLabel:`Open the repository of ${t} externally.`,onLongPress:()=>T(`Opens the repository of ${t} on GitHub in an external page to view any source code of the plugin.`,"tooltip"),leading:a.createElement(d.Icon,{style:r.icon,source:m.Open}),trailing:d.Arrow,onPress:()=>{en.openURL(i.repo)}})))})),a.createElement(E,{style:r.subheaderText},`Build: (${i.build.split("-")[1]}) Release: (${l})`))}))};const[ht,an]=oe(O.byProps("openLazy","hideActionSheet"),O.byProps("getChannel","getDMFromUserId")),he=St("dislate");var j;(function(e){e[e.Translate=0]="Translate",e[e.Revert=1]="Revert"})(j||(j={}));let fe=[{invalid_id:"acquite sucks"}];const on={...f,commands:[],patches:[],onStart(){this.commands=[Vt,Jt];let e=0;const t=3;async function o(){try{e++;const i=Je("getMessage","getMessages"),n=Je("_currentDispatchActionType","_subscriptions","_actionHandlers","_waitQueue");let l=I(f.name,"toastEnable",!1);await Ft();for(const r of["MESSAGE_UPDATE"])try{n==null||n.dispatch({type:r,message:{}})}catch(c){console.log(`[${f.name} Local Error ${c}]`)}console.log(`[${f.name}] delayed start attempt ${e}/${t}.`),l&&(p==null||p.open({content:`[${f.name}] start attempt ${e}/${t}.`,source:m.Debug}));try{he.before(ht,"openLazy",(r,[c,h],k)=>{h==="MessageLongPressActionSheet"&&c.then(D=>{he.after(D,"default",(N,L,z)=>{var ye,be,pe,we,ve,ke,Ee,_e,Se,$e,Te,De,Le,xe,Ce,Re,Ie;const ae=Nt,[Pe,He]=a.useState(j.Translate),[ft,Fe]=a.useState(0);if(!(z!=null&&z.props))return console.log(`[${f.name} Local Error: Property "Props" Does not Exist on "res"]`),z;let q=(ve=(we=(pe=(be=(ye=z==null?void 0:z.props)===null||ye===void 0?void 0:ye.children)===null||be===void 0?void 0:be.props)===null||pe===void 0?void 0:pe.children)===null||we===void 0?void 0:we.props)===null||ve===void 0?void 0:ve.children[1];if(!q)return console.log(`[${f.name} Local Error: 'finalLocation' seems to be undefined!]`),z;a.useEffect(()=>{Z(Object.values(ae),w=>{F(q,v=>{if(v.key!==ae.dislate)return v.key===w},"external plugin list")&&Fe(v=>v+1)},"looping through external plugin keys"),F(q,w=>{var v;return((v=w.props)===null||v===void 0?void 0:v.message)==="Reply"},"reply button")&&Fe(w=>w+1),F(q,w=>{var v;return((v=w.props)===null||v===void 0?void 0:v.message)==="Edit Message"},"edit message button")&&Fe(w=>w+1)},[]);const C=i.getMessage((Ee=(ke=L[0])===null||ke===void 0?void 0:ke.message)===null||Ee===void 0?void 0:Ee.channel_id,(Se=(_e=L[0])===null||_e===void 0?void 0:_e.message)===null||Se===void 0?void 0:Se.id);if(!(C!=null&&C.content)&&!(!((Te=($e=L[0])===null||$e===void 0?void 0:$e.message)===null||Te===void 0)&&Te.content))return console.log(`[${f.name}] No message content.`),z;const Ne=(De=C==null?void 0:C.id)!==null&&De!==void 0?De:(xe=(Le=L[0])===null||Le===void 0?void 0:Le.message)===null||xe===void 0?void 0:xe.id,yt=(Ce=C==null?void 0:C.content)!==null&&Ce!==void 0?Ce:(Ie=(Re=L[0])===null||Re===void 0?void 0:Re.message)===null||Ie===void 0?void 0:Ie.content,Me=F(fe,w=>Object.keys(w)[0]===Ne,"cache object");a.useEffect(()=>{He(Me?j.Revert:j.Translate)},He);const bt=a.createElement(d,{key:ae.dislate,label:`${Pe===j.Translate?"Translate":"Revert"}`,leading:a.createElement(d.Icon,{source:Pe===j.Translate?m.Translate:m.Revert}),onPress:()=>{try{const w=b(f.name,"DislateLangFrom","detect"),v=b(f.name,"DislateLangTo","english"),X=Pe===j.Translate;ze(C.content,{fromLang:w,toLang:v},!X).then(pt=>{const wt={type:"MESSAGE_UPDATE",message:{...C,content:`${X?pt:Me[Ne]} ${X?`\`[${I(f.name,"DislateLangAbbr",!1)?P[v].toUpperCase():x(v)}]\``:""}`,guild_id:an.getChannel(C.channel_id).guild_id},log_edit:!1};n.dispatch(wt),p.open({content:X?`Modified message to ${x(b(f.name,"DislateLangTo","english"))}.`:"Reverted message back to original state.",source:m.Translate}),X?fe.unshift({[Ne]:yt}):fe=Q(fe,vt=>vt!==Me,"cached data override")}),ht.hideActionSheet()}catch(w){console.log(`[Dislate Local Error ${w}]`)}}});F(q,w=>w.key===ae.dislate,"existing key of dislate")||se(q,bt,ft,"insert translate button")})})})}catch(r){console.log(`[${f.name} Local Error ${r}]`),l&&p.open({content:`[${f.name}] failed to open action sheet.`,source:m.Retry})}}catch(i){console.error(`[${f.name} Local Error ${i}]`);let n=I(f.name,"toastEnable",!1);e<t?(console.warn(`[${f.name}] failed to start. Trying again in ${e}0s.`),n&&p.open({content:`[${f.name}] failed to start. Trying again in ${e}0s.`,source:m.Retry}),setTimeout(o,e*1e4)):(console.error(`[${f.name}] failed to start. Giving up.`),n&&p.open({content:`[${f.name}] failed to start. Giving up.`,source:m.Failed}))}}setTimeout(()=>{o(),this.patches.push(he)},500)},onStop(){this.commands=[],this.patches=[],he.unpatchAll()},getSettingsPanel({settings:e}){return a.createElement(nn,{settings:e,manifest:{name:f.name,version:f.version,plugin:f.plugin,authors:f.authors,release:f.release}})}};Et(on);
